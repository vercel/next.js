---
title: Missing Suspense boundary with useSearchParams
---

## Why This Error Occurred

Reading search parameters through `useSearchParams()` without a Suspense boundary will opt the entire page into client-side rendering. This could cause your page to be blank until the client-side JavaScript has loaded.

Common scenarios include:
- Directly calling `useSearchParams()` in a page or nested component without wrapping it in `<Suspense>`.
- A provider (e.g. a query or context provider) in the component tree using `useSearchParams()` without `<Suspense>`, triggering the CSR bailout indirectly.

## Possible Ways to Fix It

To prevent the CSR bailout, ensure that all calls to `useSearchParams()`, whether in a page, component, or provider, are wrapped in a `<Suspense>` boundary.

```tsx filename="app/search.tsx" switcher
'use client'

import { useSearchParams } from 'next/navigation'
import { Suspense } from 'react'

function Search() {
  const searchParams = useSearchParams()

  return <input placeholder="Search..." />
}

export function Searchbar() {
  return (
    // You could have a loading skeleton as the `fallback` too
    <Suspense>
      <Search />
    </Suspense>
  )
}
```

```jsx filename="app/search.js" switcher
'use client'

import { useSearchParams } from 'next/navigation'
import { Suspense } from 'react'

function Search() {
  const searchParams = useSearchParams()

  return <input placeholder="Search..." />
}

export function Searchbar() {
  return (
    // You could have a loading skeleton as the `fallback` too
    <Suspense>
      <Search />
    </Suspense>
  )
}
```

This will ensure the page does not de-opt to client-side rendering.

## Debugging Steps

If you encounter a CSR bailout but cannot identify the source, the issue may stem from a provider or parent component rather than the page itself. Follow these steps to debug:
### 1. Inspect the Component Tree:
- Review your page and layout components for direct calls to `useSearchParams()`.
- Check for providers (e.g. `QueryClientProvider`, custom context providers and external packages like `nuqs`) that might internally call `useSearchParams()`.
- Use React Developer Tools to inspect the component hierarchy and identify where `useSearchParams()` is used.
- Run a global search in your codebase for `useSearchParams()` and check that each usage is wrapped in a `<Suspense>` boundary.


### 2. Add `<Suspense>` incrementally
- Temporarily wrap individual components or providers in `<Suspense>` boundaries to isolate the components.
- Example: If a provider in layout.tsx is suspected, wrap it in `<Suspense>` and observe if the bailout resolves.


## Disabling

> **Note**: This is only available with Next.js version 14.x. If you're in versions above 14 please fix it with the approach above.

We don't recommend disabling this rule. However, if you need to, you can disable it by setting the `missingSuspenseWithCSRBailout` option to `false` in your `next.config.js`:

```js filename="next.config.js"
module.exports = {
  experimental: {
    missingSuspenseWithCSRBailout: false,
  },
}
```

This configuration option will be removed in a future major version.

## Useful Links

- [`useSearchParams`](/docs/app/api-reference/functions/use-search-params)
