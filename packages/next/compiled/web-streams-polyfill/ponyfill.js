(()=>{var e={554:function(e,r){(function(e,t){true?t(r):0})(this,(function(e){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:function(e){return"Symbol("+e+")"};function noop(){return undefined}function getGlobals(){if(typeof self!=="undefined"){return self}else if(typeof window!=="undefined"){return window}else if(typeof global!=="undefined"){return global}return undefined}var t=getGlobals();function typeIsObject(e){return typeof e==="object"&&e!==null||typeof e==="function"}var a=noop;var n=Promise;var o=Promise.prototype.then;var i=Promise.resolve.bind(n);var l=Promise.reject.bind(n);function newPromise(e){return new n(e)}function promiseResolvedWith(e){return i(e)}function promiseRejectedWith(e){return l(e)}function PerformPromiseThen(e,r,t){return o.call(e,r,t)}function uponPromise(e,r,t){PerformPromiseThen(PerformPromiseThen(e,r,t),undefined,a)}function uponFulfillment(e,r){uponPromise(e,r)}function uponRejection(e,r){uponPromise(e,undefined,r)}function transformPromiseWith(e,r,t){return PerformPromiseThen(e,r,t)}function setPromiseIsHandledToTrue(e){PerformPromiseThen(e,undefined,a)}var u=function(){var e=t&&t.queueMicrotask;if(typeof e==="function"){return e}var r=promiseResolvedWith(undefined);return function(e){return PerformPromiseThen(r,e)}}();function reflectCall(e,r,t){if(typeof e!=="function"){throw new TypeError("Argument is not a function")}return Function.prototype.apply.call(e,r,t)}function promiseCall(e,r,t){try{return promiseResolvedWith(reflectCall(e,r,t))}catch(e){return promiseRejectedWith(e)}}var s=16384;var d=function(){function SimpleQueue(){this._cursor=0;this._size=0;this._front={_elements:[],_next:undefined};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(SimpleQueue.prototype,"length",{get:function(){return this._size},enumerable:false,configurable:true});SimpleQueue.prototype.push=function(e){var r=this._back;var t=r;if(r._elements.length===s-1){t={_elements:[],_next:undefined}}r._elements.push(e);if(t!==r){this._back=t;r._next=t}++this._size};SimpleQueue.prototype.shift=function(){var e=this._front;var r=e;var t=this._cursor;var a=t+1;var n=e._elements;var o=n[t];if(a===s){r=e._next;a=0}--this._size;this._cursor=a;if(e!==r){this._front=r}n[t]=undefined;return o};SimpleQueue.prototype.forEach=function(e){var r=this._cursor;var t=this._front;var a=t._elements;while(r!==a.length||t._next!==undefined){if(r===a.length){t=t._next;a=t._elements;r=0;if(a.length===0){break}}e(a[r]);++r}};SimpleQueue.prototype.peek=function(){var e=this._front;var r=this._cursor;return e._elements[r]};return SimpleQueue}();function ReadableStreamReaderGenericInitialize(e,r){e._ownerReadableStream=r;r._reader=e;if(r._state==="readable"){defaultReaderClosedPromiseInitialize(e)}else if(r._state==="closed"){defaultReaderClosedPromiseInitializeAsResolved(e)}else{defaultReaderClosedPromiseInitializeAsRejected(e,r._storedError)}}function ReadableStreamReaderGenericCancel(e,r){var t=e._ownerReadableStream;return ReadableStreamCancel(t,r)}function ReadableStreamReaderGenericRelease(e){if(e._ownerReadableStream._state==="readable"){defaultReaderClosedPromiseReject(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}else{defaultReaderClosedPromiseResetToRejected(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function readerLockException(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(e){e._closedPromise=newPromise((function(r,t){e._closedPromise_resolve=r;e._closedPromise_reject=t}))}function defaultReaderClosedPromiseInitializeAsRejected(e,r){defaultReaderClosedPromiseInitialize(e);defaultReaderClosedPromiseReject(e,r)}function defaultReaderClosedPromiseInitializeAsResolved(e){defaultReaderClosedPromiseInitialize(e);defaultReaderClosedPromiseResolve(e)}function defaultReaderClosedPromiseReject(e,r){if(e._closedPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._closedPromise);e._closedPromise_reject(r);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function defaultReaderClosedPromiseResetToRejected(e,r){defaultReaderClosedPromiseInitializeAsRejected(e,r)}function defaultReaderClosedPromiseResolve(e){if(e._closedPromise_resolve===undefined){return}e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}var f=r("[[AbortSteps]]");var c=r("[[ErrorSteps]]");var m=r("[[CancelSteps]]");var b=r("[[PullSteps]]");var p=Number.isFinite||function(e){return typeof e==="number"&&isFinite(e)};var S=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function isDictionary(e){return typeof e==="object"||typeof e==="function"}function assertDictionary(e,r){if(e!==undefined&&!isDictionary(e)){throw new TypeError(r+" is not an object.")}}function assertFunction(e,r){if(typeof e!=="function"){throw new TypeError(r+" is not a function.")}}function isObject(e){return typeof e==="object"&&e!==null||typeof e==="function"}function assertObject(e,r){if(!isObject(e)){throw new TypeError(r+" is not an object.")}}function assertRequiredArgument(e,r,t){if(e===undefined){throw new TypeError("Parameter "+r+" is required in '"+t+"'.")}}function assertRequiredField(e,r,t){if(e===undefined){throw new TypeError(r+" is required in '"+t+"'.")}}function convertUnrestrictedDouble(e){return Number(e)}function censorNegativeZero(e){return e===0?0:e}function integerPart(e){return censorNegativeZero(S(e))}function convertUnsignedLongLongWithEnforceRange(e,r){var t=0;var a=Number.MAX_SAFE_INTEGER;var n=Number(e);n=censorNegativeZero(n);if(!p(n)){throw new TypeError(r+" is not a finite number")}n=integerPart(n);if(n<t||n>a){throw new TypeError(r+" is outside the accepted range of "+t+" to "+a+", inclusive")}if(!p(n)||n===0){return 0}return n}function assertReadableStream(e,r){if(!IsReadableStream(e)){throw new TypeError(r+" is not a ReadableStream.")}}function AcquireReadableStreamDefaultReader(e){return new h(e)}function ReadableStreamAddReadRequest(e,r){e._reader._readRequests.push(r)}function ReadableStreamFulfillReadRequest(e,r,t){var a=e._reader;var n=a._readRequests.shift();if(t){n._closeSteps()}else{n._chunkSteps(r)}}function ReadableStreamGetNumReadRequests(e){return e._reader._readRequests.length}function ReadableStreamHasDefaultReader(e){var r=e._reader;if(r===undefined){return false}if(!IsReadableStreamDefaultReader(r)){return false}return true}var h=function(){function ReadableStreamDefaultReader(e){assertRequiredArgument(e,1,"ReadableStreamDefaultReader");assertReadableStream(e,"First parameter");if(IsReadableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}ReadableStreamReaderGenericInitialize(this,e);this._readRequests=new d}Object.defineProperty(ReadableStreamDefaultReader.prototype,"closed",{get:function(){if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("closed"))}return this._closedPromise},enumerable:false,configurable:true});ReadableStreamDefaultReader.prototype.cancel=function(e){if(e===void 0){e=undefined}if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("cancel"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("cancel"))}return ReadableStreamReaderGenericCancel(this,e)};ReadableStreamDefaultReader.prototype.read=function(){if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("read"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("read from"))}var e;var r;var t=newPromise((function(t,a){e=t;r=a}));var a={_chunkSteps:function(r){return e({value:r,done:false})},_closeSteps:function(){return e({value:undefined,done:true})},_errorSteps:function(e){return r(e)}};ReadableStreamDefaultReaderRead(this,a);return t};ReadableStreamDefaultReader.prototype.releaseLock=function(){if(!IsReadableStreamDefaultReader(this)){throw defaultReaderBrandCheckException("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}ReadableStreamReaderGenericRelease(this)};return ReadableStreamDefaultReader}();Object.defineProperties(h.prototype,{cancel:{enumerable:true},read:{enumerable:true},releaseLock:{enumerable:true},closed:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(h.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:true})}function IsReadableStreamDefaultReader(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readRequests")){return false}return true}function ReadableStreamDefaultReaderRead(e,r){var t=e._ownerReadableStream;t._disturbed=true;if(t._state==="closed"){r._closeSteps()}else if(t._state==="errored"){r._errorSteps(t._storedError)}else{t._readableStreamController[b](r)}}function defaultReaderBrandCheckException(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}var R;var y;if(typeof r.asyncIterator==="symbol"){y=(R={},R[r.asyncIterator]=function(){return this},R);Object.defineProperty(y,r.asyncIterator,{enumerable:false})}var _=function(){function ReadableStreamAsyncIteratorImpl(e,r){this._ongoingPromise=undefined;this._isFinished=false;this._reader=e;this._preventCancel=r}ReadableStreamAsyncIteratorImpl.prototype.next=function(){var e=this;var nextSteps=function(){return e._nextSteps()};this._ongoingPromise=this._ongoingPromise?transformPromiseWith(this._ongoingPromise,nextSteps,nextSteps):nextSteps();return this._ongoingPromise};ReadableStreamAsyncIteratorImpl.prototype.return=function(e){var r=this;var returnSteps=function(){return r._returnSteps(e)};return this._ongoingPromise?transformPromiseWith(this._ongoingPromise,returnSteps,returnSteps):returnSteps()};ReadableStreamAsyncIteratorImpl.prototype._nextSteps=function(){var e=this;if(this._isFinished){return Promise.resolve({value:undefined,done:true})}var r=this._reader;if(r._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("iterate"))}var t;var a;var n=newPromise((function(e,r){t=e;a=r}));var o={_chunkSteps:function(r){e._ongoingPromise=undefined;u((function(){return t({value:r,done:false})}))},_closeSteps:function(){e._ongoingPromise=undefined;e._isFinished=true;ReadableStreamReaderGenericRelease(r);t({value:undefined,done:true})},_errorSteps:function(t){e._ongoingPromise=undefined;e._isFinished=true;ReadableStreamReaderGenericRelease(r);a(t)}};ReadableStreamDefaultReaderRead(r,o);return n};ReadableStreamAsyncIteratorImpl.prototype._returnSteps=function(e){if(this._isFinished){return Promise.resolve({value:e,done:true})}this._isFinished=true;var r=this._reader;if(r._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("finish iterating"))}if(!this._preventCancel){var t=ReadableStreamReaderGenericCancel(r,e);ReadableStreamReaderGenericRelease(r);return transformPromiseWith(t,(function(){return{value:e,done:true}}))}ReadableStreamReaderGenericRelease(r);return promiseResolvedWith({value:e,done:true})};return ReadableStreamAsyncIteratorImpl}();var v={next:function(){if(!IsReadableStreamAsyncIterator(this)){return promiseRejectedWith(streamAsyncIteratorBrandCheckException("next"))}return this._asyncIteratorImpl.next()},return:function(e){if(!IsReadableStreamAsyncIterator(this)){return promiseRejectedWith(streamAsyncIteratorBrandCheckException("return"))}return this._asyncIteratorImpl.return(e)}};if(y!==undefined){Object.setPrototypeOf(v,y)}function AcquireReadableStreamAsyncIterator(e,r){var t=AcquireReadableStreamDefaultReader(e);var a=new _(t,r);var n=Object.create(v);n._asyncIteratorImpl=a;return n}function IsReadableStreamAsyncIterator(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")){return false}return true}function streamAsyncIteratorBrandCheckException(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}var C=Number.isNaN||function(e){return e!==e};function IsFiniteNonNegativeNumber(e){if(!IsNonNegativeNumber(e)){return false}if(e===Infinity){return false}return true}function IsNonNegativeNumber(e){if(typeof e!=="number"){return false}if(C(e)){return false}if(e<0){return false}return true}function DequeueValue(e){var r=e._queue.shift();e._queueTotalSize-=r.size;if(e._queueTotalSize<0){e._queueTotalSize=0}return r.value}function EnqueueValueWithSize(e,r,t){t=Number(t);if(!IsFiniteNonNegativeNumber(t)){throw new RangeError("Size must be a finite, non-NaN, non-negative number.")}e._queue.push({value:r,size:t});e._queueTotalSize+=t}function PeekQueueValue(e){var r=e._queue.peek();return r.value}function ResetQueue(e){e._queue=new d;e._queueTotalSize=0}function CreateArrayFromList(e){return e.slice()}function CopyDataBlockBytes(e,r,t,a,n){new Uint8Array(e).set(new Uint8Array(t,a,n),r)}function TransferArrayBuffer(e){return e}function IsDetachedBuffer(e){return false}var g=function(){function ReadableStreamBYOBRequest(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableStreamBYOBRequest.prototype,"view",{get:function(){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("view")}return this._view},enumerable:false,configurable:true});ReadableStreamBYOBRequest.prototype.respond=function(e){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("respond")}assertRequiredArgument(e,1,"respond");e=convertUnsignedLongLongWithEnforceRange(e,"First parameter");if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(IsDetachedBuffer(this._view.buffer));ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController,e)};ReadableStreamBYOBRequest.prototype.respondWithNewView=function(e){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("respondWithNewView")}assertRequiredArgument(e,1,"respondWithNewView");if(!ArrayBuffer.isView(e)){throw new TypeError("You can only respond with array buffer views")}if(e.byteLength===0){throw new TypeError("chunk must have non-zero byteLength")}if(e.buffer.byteLength===0){throw new TypeError("chunk's buffer must have non-zero byteLength")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController,e)};return ReadableStreamBYOBRequest}();Object.defineProperties(g.prototype,{respond:{enumerable:true},respondWithNewView:{enumerable:true},view:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(g.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:true})}var W=function(){function ReadableByteStreamController(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableByteStreamController.prototype,"byobRequest",{get:function(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("byobRequest")}if(this._byobRequest===null&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();var r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);var t=Object.create(g.prototype);SetUpReadableStreamBYOBRequest(t,this,r);this._byobRequest=t}return this._byobRequest},enumerable:false,configurable:true});Object.defineProperty(ReadableByteStreamController.prototype,"desiredSize",{get:function(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("desiredSize")}return ReadableByteStreamControllerGetDesiredSize(this)},enumerable:false,configurable:true});ReadableByteStreamController.prototype.close=function(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("close")}if(this._closeRequested){throw new TypeError("The stream has already been closed; do not close it again!")}var e=this._controlledReadableByteStream._state;if(e!=="readable"){throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed")}ReadableByteStreamControllerClose(this)};ReadableByteStreamController.prototype.enqueue=function(e){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("enqueue")}assertRequiredArgument(e,1,"enqueue");if(!ArrayBuffer.isView(e)){throw new TypeError("chunk must be an array buffer view")}if(e.byteLength===0){throw new TypeError("chunk must have non-zero byteLength")}if(e.buffer.byteLength===0){throw new TypeError("chunk's buffer must have non-zero byteLength")}if(this._closeRequested){throw new TypeError("stream is closed or draining")}var r=this._controlledReadableByteStream._state;if(r!=="readable"){throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to")}ReadableByteStreamControllerEnqueue(this,e)};ReadableByteStreamController.prototype.error=function(e){if(e===void 0){e=undefined}if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("error")}ReadableByteStreamControllerError(this,e)};ReadableByteStreamController.prototype[m]=function(e){if(this._pendingPullIntos.length>0){var r=this._pendingPullIntos.peek();r.bytesFilled=0}ResetQueue(this);var t=this._cancelAlgorithm(e);ReadableByteStreamControllerClearAlgorithms(this);return t};ReadableByteStreamController.prototype[b]=function(e){var r=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength;ReadableByteStreamControllerHandleQueueDrain(this);var a=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e._chunkSteps(a);return}var n=this._autoAllocateChunkSize;if(n!==undefined){var o=void 0;try{o=new ArrayBuffer(n)}catch(r){e._errorSteps(r);return}var i={buffer:o,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}ReadableStreamAddReadRequest(r,e);ReadableByteStreamControllerCallPullIfNeeded(this)};return ReadableByteStreamController}();Object.defineProperties(W.prototype,{close:{enumerable:true},enqueue:{enumerable:true},error:{enumerable:true},byobRequest:{enumerable:true},desiredSize:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(W.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:true})}function IsReadableByteStreamController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")){return false}return true}function IsReadableStreamBYOBRequest(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")){return false}return true}function ReadableByteStreamControllerCallPullIfNeeded(e){var r=ReadableByteStreamControllerShouldCallPull(e);if(!r){return}if(e._pulling){e._pullAgain=true;return}e._pulling=true;var t=e._pullAlgorithm();uponPromise(t,(function(){e._pulling=false;if(e._pullAgain){e._pullAgain=false;ReadableByteStreamControllerCallPullIfNeeded(e)}}),(function(r){ReadableByteStreamControllerError(e,r)}))}function ReadableByteStreamControllerClearPendingPullIntos(e){ReadableByteStreamControllerInvalidateBYOBRequest(e);e._pendingPullIntos=new d}function ReadableByteStreamControllerCommitPullIntoDescriptor(e,r){var t=false;if(e._state==="closed"){t=true}var a=ReadableByteStreamControllerConvertPullIntoDescriptor(r);if(r.readerType==="default"){ReadableStreamFulfillReadRequest(e,a,t)}else{ReadableStreamFulfillReadIntoRequest(e,a,t)}}function ReadableByteStreamControllerConvertPullIntoDescriptor(e){var r=e.bytesFilled;var t=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,r/t)}function ReadableByteStreamControllerEnqueueChunkToQueue(e,r,t,a){e._queue.push({buffer:r,byteOffset:t,byteLength:a});e._queueTotalSize+=a}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,r){var t=r.elementSize;var a=r.bytesFilled-r.bytesFilled%t;var n=Math.min(e._queueTotalSize,r.byteLength-r.bytesFilled);var o=r.bytesFilled+n;var i=o-o%t;var l=n;var u=false;if(i>a){l=i-r.bytesFilled;u=true}var s=e._queue;while(l>0){var d=s.peek();var f=Math.min(l,d.byteLength);var c=r.byteOffset+r.bytesFilled;CopyDataBlockBytes(r.buffer,c,d.buffer,d.byteOffset,f);if(d.byteLength===f){s.shift()}else{d.byteOffset+=f;d.byteLength-=f}e._queueTotalSize-=f;ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,f,r);l-=f}return u}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,r,t){ReadableByteStreamControllerInvalidateBYOBRequest(e);t.bytesFilled+=r}function ReadableByteStreamControllerHandleQueueDrain(e){if(e._queueTotalSize===0&&e._closeRequested){ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamClose(e._controlledReadableByteStream)}else{ReadableByteStreamControllerCallPullIfNeeded(e)}}function ReadableByteStreamControllerInvalidateBYOBRequest(e){if(e._byobRequest===null){return}e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=null;e._byobRequest=null}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e){while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0){return}var r=e._pendingPullIntos.peek();if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,r)){ReadableByteStreamControllerShiftPendingPullInto(e);ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream,r)}}}function ReadableByteStreamControllerPullInto(e,r,t){var a=e._controlledReadableByteStream;var n=1;if(r.constructor!==DataView){n=r.constructor.BYTES_PER_ELEMENT}var o=r.constructor;var i=TransferArrayBuffer(r.buffer);var l={buffer:i,byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:n,viewConstructor:o,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(l);ReadableStreamAddReadIntoRequest(a,t);return}if(a._state==="closed"){var u=new o(l.buffer,l.byteOffset,0);t._closeSteps(u);return}if(e._queueTotalSize>0){if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,l)){var s=ReadableByteStreamControllerConvertPullIntoDescriptor(l);ReadableByteStreamControllerHandleQueueDrain(e);t._chunkSteps(s);return}if(e._closeRequested){var d=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(e,d);t._errorSteps(d);return}}e._pendingPullIntos.push(l);ReadableStreamAddReadIntoRequest(a,t);ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerRespondInClosedState(e,r){r.buffer=TransferArrayBuffer(r.buffer);var t=e._controlledReadableByteStream;if(ReadableStreamHasBYOBReader(t)){while(ReadableStreamGetNumReadIntoRequests(t)>0){var a=ReadableByteStreamControllerShiftPendingPullInto(e);ReadableByteStreamControllerCommitPullIntoDescriptor(t,a)}}}function ReadableByteStreamControllerRespondInReadableState(e,r,t){if(t.bytesFilled+r>t.byteLength){throw new RangeError("bytesWritten out of range")}ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,r,t);if(t.bytesFilled<t.elementSize){return}ReadableByteStreamControllerShiftPendingPullInto(e);var a=t.bytesFilled%t.elementSize;if(a>0){var n=t.byteOffset+t.bytesFilled;var o=t.buffer.slice(n-a,n);ReadableByteStreamControllerEnqueueChunkToQueue(e,o,0,o.byteLength)}t.buffer=TransferArrayBuffer(t.buffer);t.bytesFilled-=a;ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream,t);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)}function ReadableByteStreamControllerRespondInternal(e,r){var t=e._pendingPullIntos.peek();var a=e._controlledReadableByteStream._state;if(a==="closed"){if(r!==0){throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}ReadableByteStreamControllerRespondInClosedState(e,t)}else{ReadableByteStreamControllerRespondInReadableState(e,r,t)}ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerShiftPendingPullInto(e){var r=e._pendingPullIntos.shift();ReadableByteStreamControllerInvalidateBYOBRequest(e);return r}function ReadableByteStreamControllerShouldCallPull(e){var r=e._controlledReadableByteStream;if(r._state!=="readable"){return false}if(e._closeRequested){return false}if(!e._started){return false}if(ReadableStreamHasDefaultReader(r)&&ReadableStreamGetNumReadRequests(r)>0){return true}if(ReadableStreamHasBYOBReader(r)&&ReadableStreamGetNumReadIntoRequests(r)>0){return true}var t=ReadableByteStreamControllerGetDesiredSize(e);if(t>0){return true}return false}function ReadableByteStreamControllerClearAlgorithms(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined}function ReadableByteStreamControllerClose(e){var r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable"){return}if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek();if(t.bytesFilled>0){var a=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(e,a);throw a}}ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamClose(r)}function ReadableByteStreamControllerEnqueue(e,r){var t=e._controlledReadableByteStream;if(e._closeRequested||t._state!=="readable"){return}var a=r.buffer;var n=r.byteOffset;var o=r.byteLength;var i=TransferArrayBuffer(a);if(ReadableStreamHasDefaultReader(t)){if(ReadableStreamGetNumReadRequests(t)===0){ReadableByteStreamControllerEnqueueChunkToQueue(e,i,n,o)}else{var l=new Uint8Array(i,n,o);ReadableStreamFulfillReadRequest(t,l,false)}}else if(ReadableStreamHasBYOBReader(t)){ReadableByteStreamControllerEnqueueChunkToQueue(e,i,n,o);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)}else{ReadableByteStreamControllerEnqueueChunkToQueue(e,i,n,o)}ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerError(e,r){var t=e._controlledReadableByteStream;if(t._state!=="readable"){return}ReadableByteStreamControllerClearPendingPullIntos(e);ResetQueue(e);ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamError(t,r)}function ReadableByteStreamControllerGetDesiredSize(e){var r=e._controlledReadableByteStream._state;if(r==="errored"){return null}if(r==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function ReadableByteStreamControllerRespond(e,r){r=Number(r);if(!IsFiniteNonNegativeNumber(r)){throw new RangeError("bytesWritten must be a finite")}ReadableByteStreamControllerRespondInternal(e,r)}function ReadableByteStreamControllerRespondWithNewView(e,r){var t=e._pendingPullIntos.peek();if(t.byteOffset+t.bytesFilled!==r.byteOffset){throw new RangeError("The region specified by view does not match byobRequest")}if(t.byteLength!==r.byteLength){throw new RangeError("The buffer of view has different capacity than byobRequest")}t.buffer=r.buffer;ReadableByteStreamControllerRespondInternal(e,r.byteLength)}function SetUpReadableByteStreamController(e,r,t,a,n,o,i){r._controlledReadableByteStream=e;r._pullAgain=false;r._pulling=false;r._byobRequest=null;r._queue=r._queueTotalSize=undefined;ResetQueue(r);r._closeRequested=false;r._started=false;r._strategyHWM=o;r._pullAlgorithm=a;r._cancelAlgorithm=n;r._autoAllocateChunkSize=i;r._pendingPullIntos=new d;e._readableStreamController=r;var l=t();uponPromise(promiseResolvedWith(l),(function(){r._started=true;ReadableByteStreamControllerCallPullIfNeeded(r)}),(function(e){ReadableByteStreamControllerError(r,e)}))}function SetUpReadableByteStreamControllerFromUnderlyingSource(e,r,t){var a=Object.create(W.prototype);var startAlgorithm=function(){return undefined};var pullAlgorithm=function(){return promiseResolvedWith(undefined)};var cancelAlgorithm=function(){return promiseResolvedWith(undefined)};if(r.start!==undefined){startAlgorithm=function(){return r.start(a)}}if(r.pull!==undefined){pullAlgorithm=function(){return r.pull(a)}}if(r.cancel!==undefined){cancelAlgorithm=function(e){return r.cancel(e)}}var n=r.autoAllocateChunkSize;if(n===0){throw new TypeError("autoAllocateChunkSize must be greater than 0")}SetUpReadableByteStreamController(e,a,startAlgorithm,pullAlgorithm,cancelAlgorithm,t,n)}function SetUpReadableStreamBYOBRequest(e,r,t){e._associatedReadableByteStreamController=r;e._view=t}function byobRequestBrandCheckException(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function byteStreamControllerBrandCheckException(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function AcquireReadableStreamBYOBReader(e){return new w(e)}function ReadableStreamAddReadIntoRequest(e,r){e._reader._readIntoRequests.push(r)}function ReadableStreamFulfillReadIntoRequest(e,r,t){var a=e._reader;var n=a._readIntoRequests.shift();if(t){n._closeSteps(r)}else{n._chunkSteps(r)}}function ReadableStreamGetNumReadIntoRequests(e){return e._reader._readIntoRequests.length}function ReadableStreamHasBYOBReader(e){var r=e._reader;if(r===undefined){return false}if(!IsReadableStreamBYOBReader(r)){return false}return true}var w=function(){function ReadableStreamBYOBReader(e){assertRequiredArgument(e,1,"ReadableStreamBYOBReader");assertReadableStream(e,"First parameter");if(IsReadableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}if(!IsReadableByteStreamController(e._readableStreamController)){throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source")}ReadableStreamReaderGenericInitialize(this,e);this._readIntoRequests=new d}Object.defineProperty(ReadableStreamBYOBReader.prototype,"closed",{get:function(){if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("closed"))}return this._closedPromise},enumerable:false,configurable:true});ReadableStreamBYOBReader.prototype.cancel=function(e){if(e===void 0){e=undefined}if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("cancel"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("cancel"))}return ReadableStreamReaderGenericCancel(this,e)};ReadableStreamBYOBReader.prototype.read=function(e){if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("read"))}if(!ArrayBuffer.isView(e)){return promiseRejectedWith(new TypeError("view must be an array buffer view"))}if(e.byteLength===0){return promiseRejectedWith(new TypeError("view must have non-zero byteLength"))}if(e.buffer.byteLength===0){return promiseRejectedWith(new TypeError("view's buffer must have non-zero byteLength"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("read from"))}var r;var t;var a=newPromise((function(e,a){r=e;t=a}));var n={_chunkSteps:function(e){return r({value:e,done:false})},_closeSteps:function(e){return r({value:e,done:true})},_errorSteps:function(e){return t(e)}};ReadableStreamBYOBReaderRead(this,e,n);return a};ReadableStreamBYOBReader.prototype.releaseLock=function(){if(!IsReadableStreamBYOBReader(this)){throw byobReaderBrandCheckException("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readIntoRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}ReadableStreamReaderGenericRelease(this)};return ReadableStreamBYOBReader}();Object.defineProperties(w.prototype,{cancel:{enumerable:true},read:{enumerable:true},releaseLock:{enumerable:true},closed:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(w.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:true})}function IsReadableStreamBYOBReader(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")){return false}return true}function ReadableStreamBYOBReaderRead(e,r,t){var a=e._ownerReadableStream;a._disturbed=true;if(a._state==="errored"){t._errorSteps(a._storedError)}else{ReadableByteStreamControllerPullInto(a._readableStreamController,r,t)}}function byobReaderBrandCheckException(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function ExtractHighWaterMark(e,r){var t=e.highWaterMark;if(t===undefined){return r}if(C(t)||t<0){throw new RangeError("Invalid highWaterMark")}return t}function ExtractSizeAlgorithm(e){var r=e.size;if(!r){return function(){return 1}}return r}function convertQueuingStrategy(e,r){assertDictionary(e,r);var t=e===null||e===void 0?void 0:e.highWaterMark;var a=e===null||e===void 0?void 0:e.size;return{highWaterMark:t===undefined?undefined:convertUnrestrictedDouble(t),size:a===undefined?undefined:convertQueuingStrategySize(a,r+" has member 'size' that")}}function convertQueuingStrategySize(e,r){assertFunction(e,r);return function(r){return convertUnrestrictedDouble(e(r))}}function convertUnderlyingSink(e,r){assertDictionary(e,r);var t=e===null||e===void 0?void 0:e.abort;var a=e===null||e===void 0?void 0:e.close;var n=e===null||e===void 0?void 0:e.start;var o=e===null||e===void 0?void 0:e.type;var i=e===null||e===void 0?void 0:e.write;return{abort:t===undefined?undefined:convertUnderlyingSinkAbortCallback(t,e,r+" has member 'abort' that"),close:a===undefined?undefined:convertUnderlyingSinkCloseCallback(a,e,r+" has member 'close' that"),start:n===undefined?undefined:convertUnderlyingSinkStartCallback(n,e,r+" has member 'start' that"),write:i===undefined?undefined:convertUnderlyingSinkWriteCallback(i,e,r+" has member 'write' that"),type:o}}function convertUnderlyingSinkAbortCallback(e,r,t){assertFunction(e,t);return function(t){return promiseCall(e,r,[t])}}function convertUnderlyingSinkCloseCallback(e,r,t){assertFunction(e,t);return function(){return promiseCall(e,r,[])}}function convertUnderlyingSinkStartCallback(e,r,t){assertFunction(e,t);return function(t){return reflectCall(e,r,[t])}}function convertUnderlyingSinkWriteCallback(e,r,t){assertFunction(e,t);return function(t,a){return promiseCall(e,r,[t,a])}}function assertWritableStream(e,r){if(!IsWritableStream(e)){throw new TypeError(r+" is not a WritableStream.")}}var P=function(){function WritableStream(e,r){if(e===void 0){e={}}if(r===void 0){r={}}if(e===undefined){e=null}else{assertObject(e,"First parameter")}var t=convertQueuingStrategy(r,"Second parameter");var a=convertUnderlyingSink(e,"First parameter");InitializeWritableStream(this);var n=a.type;if(n!==undefined){throw new RangeError("Invalid type is specified")}var o=ExtractSizeAlgorithm(t);var i=ExtractHighWaterMark(t,1);SetUpWritableStreamDefaultControllerFromUnderlyingSink(this,a,i,o)}Object.defineProperty(WritableStream.prototype,"locked",{get:function(){if(!IsWritableStream(this)){throw streamBrandCheckException$2("locked")}return IsWritableStreamLocked(this)},enumerable:false,configurable:true});WritableStream.prototype.abort=function(e){if(e===void 0){e=undefined}if(!IsWritableStream(this)){return promiseRejectedWith(streamBrandCheckException$2("abort"))}if(IsWritableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot abort a stream that already has a writer"))}return WritableStreamAbort(this,e)};WritableStream.prototype.close=function(){if(!IsWritableStream(this)){return promiseRejectedWith(streamBrandCheckException$2("close"))}if(IsWritableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot close a stream that already has a writer"))}if(WritableStreamCloseQueuedOrInFlight(this)){return promiseRejectedWith(new TypeError("Cannot close an already-closing stream"))}return WritableStreamClose(this)};WritableStream.prototype.getWriter=function(){if(!IsWritableStream(this)){throw streamBrandCheckException$2("getWriter")}return AcquireWritableStreamDefaultWriter(this)};return WritableStream}();Object.defineProperties(P.prototype,{abort:{enumerable:true},close:{enumerable:true},getWriter:{enumerable:true},locked:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(P.prototype,r.toStringTag,{value:"WritableStream",configurable:true})}function AcquireWritableStreamDefaultWriter(e){return new I(e)}function CreateWritableStream(e,r,t,a,n,o){if(n===void 0){n=1}if(o===void 0){o=function(){return 1}}var i=Object.create(P.prototype);InitializeWritableStream(i);var l=Object.create(T.prototype);SetUpWritableStreamDefaultController(i,l,e,r,t,a,n,o);return i}function InitializeWritableStream(e){e._state="writable";e._storedError=undefined;e._writer=undefined;e._writableStreamController=undefined;e._writeRequests=new d;e._inFlightWriteRequest=undefined;e._closeRequest=undefined;e._inFlightCloseRequest=undefined;e._pendingAbortRequest=undefined;e._backpressure=false}function IsWritableStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")){return false}return true}function IsWritableStreamLocked(e){if(e._writer===undefined){return false}return true}function WritableStreamAbort(e,r){var t=e._state;if(t==="closed"||t==="errored"){return promiseResolvedWith(undefined)}if(e._pendingAbortRequest!==undefined){return e._pendingAbortRequest._promise}var a=false;if(t==="erroring"){a=true;r=undefined}var n=newPromise((function(t,n){e._pendingAbortRequest={_promise:undefined,_resolve:t,_reject:n,_reason:r,_wasAlreadyErroring:a}}));e._pendingAbortRequest._promise=n;if(!a){WritableStreamStartErroring(e,r)}return n}function WritableStreamClose(e){var r=e._state;if(r==="closed"||r==="errored"){return promiseRejectedWith(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"))}var t=newPromise((function(r,t){var a={_resolve:r,_reject:t};e._closeRequest=a}));var a=e._writer;if(a!==undefined&&e._backpressure&&r==="writable"){defaultWriterReadyPromiseResolve(a)}WritableStreamDefaultControllerClose(e._writableStreamController);return t}function WritableStreamAddWriteRequest(e){var r=newPromise((function(r,t){var a={_resolve:r,_reject:t};e._writeRequests.push(a)}));return r}function WritableStreamDealWithRejection(e,r){var t=e._state;if(t==="writable"){WritableStreamStartErroring(e,r);return}WritableStreamFinishErroring(e)}function WritableStreamStartErroring(e,r){var t=e._writableStreamController;e._state="erroring";e._storedError=r;var a=e._writer;if(a!==undefined){WritableStreamDefaultWriterEnsureReadyPromiseRejected(a,r)}if(!WritableStreamHasOperationMarkedInFlight(e)&&t._started){WritableStreamFinishErroring(e)}}function WritableStreamFinishErroring(e){e._state="errored";e._writableStreamController[c]();var r=e._storedError;e._writeRequests.forEach((function(e){e._reject(r)}));e._writeRequests=new d;if(e._pendingAbortRequest===undefined){WritableStreamRejectCloseAndClosedPromiseIfNeeded(e);return}var t=e._pendingAbortRequest;e._pendingAbortRequest=undefined;if(t._wasAlreadyErroring){t._reject(r);WritableStreamRejectCloseAndClosedPromiseIfNeeded(e);return}var a=e._writableStreamController[f](t._reason);uponPromise(a,(function(){t._resolve();WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)}),(function(r){t._reject(r);WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)}))}function WritableStreamFinishInFlightWrite(e){e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function WritableStreamFinishInFlightWriteWithError(e,r){e._inFlightWriteRequest._reject(r);e._inFlightWriteRequest=undefined;WritableStreamDealWithRejection(e,r)}function WritableStreamFinishInFlightClose(e){e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;var r=e._state;if(r==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";var t=e._writer;if(t!==undefined){defaultWriterClosedPromiseResolve(t)}}function WritableStreamFinishInFlightCloseWithError(e,r){e._inFlightCloseRequest._reject(r);e._inFlightCloseRequest=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(r);e._pendingAbortRequest=undefined}WritableStreamDealWithRejection(e,r)}function WritableStreamCloseQueuedOrInFlight(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function WritableStreamHasOperationMarkedInFlight(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function WritableStreamMarkCloseRequestInFlight(e){e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function WritableStreamMarkFirstWriteRequestInFlight(e){e._inFlightWriteRequest=e._writeRequests.shift()}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(e){if(e._closeRequest!==undefined){e._closeRequest._reject(e._storedError);e._closeRequest=undefined}var r=e._writer;if(r!==undefined){defaultWriterClosedPromiseReject(r,e._storedError)}}function WritableStreamUpdateBackpressure(e,r){var t=e._writer;if(t!==undefined&&r!==e._backpressure){if(r){defaultWriterReadyPromiseReset(t)}else{defaultWriterReadyPromiseResolve(t)}}e._backpressure=r}var I=function(){function WritableStreamDefaultWriter(e){assertRequiredArgument(e,1,"WritableStreamDefaultWriter");assertWritableStream(e,"First parameter");if(IsWritableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive writing by another writer")}this._ownerWritableStream=e;e._writer=this;var r=e._state;if(r==="writable"){if(!WritableStreamCloseQueuedOrInFlight(e)&&e._backpressure){defaultWriterReadyPromiseInitialize(this)}else{defaultWriterReadyPromiseInitializeAsResolved(this)}defaultWriterClosedPromiseInitialize(this)}else if(r==="erroring"){defaultWriterReadyPromiseInitializeAsRejected(this,e._storedError);defaultWriterClosedPromiseInitialize(this)}else if(r==="closed"){defaultWriterReadyPromiseInitializeAsResolved(this);defaultWriterClosedPromiseInitializeAsResolved(this)}else{var t=e._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,t);defaultWriterClosedPromiseInitializeAsRejected(this,t)}}Object.defineProperty(WritableStreamDefaultWriter.prototype,"closed",{get:function(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("closed"))}return this._closedPromise},enumerable:false,configurable:true});Object.defineProperty(WritableStreamDefaultWriter.prototype,"desiredSize",{get:function(){if(!IsWritableStreamDefaultWriter(this)){throw defaultWriterBrandCheckException("desiredSize")}if(this._ownerWritableStream===undefined){throw defaultWriterLockException("desiredSize")}return WritableStreamDefaultWriterGetDesiredSize(this)},enumerable:false,configurable:true});Object.defineProperty(WritableStreamDefaultWriter.prototype,"ready",{get:function(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("ready"))}return this._readyPromise},enumerable:false,configurable:true});WritableStreamDefaultWriter.prototype.abort=function(e){if(e===void 0){e=undefined}if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("abort"))}if(this._ownerWritableStream===undefined){return promiseRejectedWith(defaultWriterLockException("abort"))}return WritableStreamDefaultWriterAbort(this,e)};WritableStreamDefaultWriter.prototype.close=function(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("close"))}var e=this._ownerWritableStream;if(e===undefined){return promiseRejectedWith(defaultWriterLockException("close"))}if(WritableStreamCloseQueuedOrInFlight(e)){return promiseRejectedWith(new TypeError("Cannot close an already-closing stream"))}return WritableStreamDefaultWriterClose(this)};WritableStreamDefaultWriter.prototype.releaseLock=function(){if(!IsWritableStreamDefaultWriter(this)){throw defaultWriterBrandCheckException("releaseLock")}var e=this._ownerWritableStream;if(e===undefined){return}WritableStreamDefaultWriterRelease(this)};WritableStreamDefaultWriter.prototype.write=function(e){if(e===void 0){e=undefined}if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("write"))}if(this._ownerWritableStream===undefined){return promiseRejectedWith(defaultWriterLockException("write to"))}return WritableStreamDefaultWriterWrite(this,e)};return WritableStreamDefaultWriter}();Object.defineProperties(I.prototype,{abort:{enumerable:true},close:{enumerable:true},releaseLock:{enumerable:true},write:{enumerable:true},closed:{enumerable:true},desiredSize:{enumerable:true},ready:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(I.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:true})}function IsWritableStreamDefaultWriter(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")){return false}return true}function WritableStreamDefaultWriterAbort(e,r){var t=e._ownerWritableStream;return WritableStreamAbort(t,r)}function WritableStreamDefaultWriterClose(e){var r=e._ownerWritableStream;return WritableStreamClose(r)}function WritableStreamDefaultWriterCloseWithErrorPropagation(e){var r=e._ownerWritableStream;var t=r._state;if(WritableStreamCloseQueuedOrInFlight(r)||t==="closed"){return promiseResolvedWith(undefined)}if(t==="errored"){return promiseRejectedWith(r._storedError)}return WritableStreamDefaultWriterClose(e)}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(e,r){if(e._closedPromiseState==="pending"){defaultWriterClosedPromiseReject(e,r)}else{defaultWriterClosedPromiseResetToRejected(e,r)}}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(e,r){if(e._readyPromiseState==="pending"){defaultWriterReadyPromiseReject(e,r)}else{defaultWriterReadyPromiseResetToRejected(e,r)}}function WritableStreamDefaultWriterGetDesiredSize(e){var r=e._ownerWritableStream;var t=r._state;if(t==="errored"||t==="erroring"){return null}if(t==="closed"){return 0}return WritableStreamDefaultControllerGetDesiredSize(r._writableStreamController)}function WritableStreamDefaultWriterRelease(e){var r=e._ownerWritableStream;var t=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");WritableStreamDefaultWriterEnsureReadyPromiseRejected(e,t);WritableStreamDefaultWriterEnsureClosedPromiseRejected(e,t);r._writer=undefined;e._ownerWritableStream=undefined}function WritableStreamDefaultWriterWrite(e,r){var t=e._ownerWritableStream;var a=t._writableStreamController;var n=WritableStreamDefaultControllerGetChunkSize(a,r);if(t!==e._ownerWritableStream){return promiseRejectedWith(defaultWriterLockException("write to"))}var o=t._state;if(o==="errored"){return promiseRejectedWith(t._storedError)}if(WritableStreamCloseQueuedOrInFlight(t)||o==="closed"){return promiseRejectedWith(new TypeError("The stream is closing or closed and cannot be written to"))}if(o==="erroring"){return promiseRejectedWith(t._storedError)}var i=WritableStreamAddWriteRequest(t);WritableStreamDefaultControllerWrite(a,r,n);return i}var B={};var T=function(){function WritableStreamDefaultController(){throw new TypeError("Illegal constructor")}WritableStreamDefaultController.prototype.error=function(e){if(e===void 0){e=undefined}if(!IsWritableStreamDefaultController(this)){throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController")}var r=this._controlledWritableStream._state;if(r!=="writable"){return}WritableStreamDefaultControllerError(this,e)};WritableStreamDefaultController.prototype[f]=function(e){var r=this._abortAlgorithm(e);WritableStreamDefaultControllerClearAlgorithms(this);return r};WritableStreamDefaultController.prototype[c]=function(){ResetQueue(this)};return WritableStreamDefaultController}();Object.defineProperties(T.prototype,{error:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(T.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:true})}function IsWritableStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")){return false}return true}function SetUpWritableStreamDefaultController(e,r,t,a,n,o,i,l){r._controlledWritableStream=e;e._writableStreamController=r;r._queue=undefined;r._queueTotalSize=undefined;ResetQueue(r);r._started=false;r._strategySizeAlgorithm=l;r._strategyHWM=i;r._writeAlgorithm=a;r._closeAlgorithm=n;r._abortAlgorithm=o;var u=WritableStreamDefaultControllerGetBackpressure(r);WritableStreamUpdateBackpressure(e,u);var s=t();var d=promiseResolvedWith(s);uponPromise(d,(function(){r._started=true;WritableStreamDefaultControllerAdvanceQueueIfNeeded(r)}),(function(t){r._started=true;WritableStreamDealWithRejection(e,t)}))}function SetUpWritableStreamDefaultControllerFromUnderlyingSink(e,r,t,a){var n=Object.create(T.prototype);var startAlgorithm=function(){return undefined};var writeAlgorithm=function(){return promiseResolvedWith(undefined)};var closeAlgorithm=function(){return promiseResolvedWith(undefined)};var abortAlgorithm=function(){return promiseResolvedWith(undefined)};if(r.start!==undefined){startAlgorithm=function(){return r.start(n)}}if(r.write!==undefined){writeAlgorithm=function(e){return r.write(e,n)}}if(r.close!==undefined){closeAlgorithm=function(){return r.close()}}if(r.abort!==undefined){abortAlgorithm=function(e){return r.abort(e)}}SetUpWritableStreamDefaultController(e,n,startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,t,a)}function WritableStreamDefaultControllerClearAlgorithms(e){e._writeAlgorithm=undefined;e._closeAlgorithm=undefined;e._abortAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function WritableStreamDefaultControllerClose(e){EnqueueValueWithSize(e,B,0);WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function WritableStreamDefaultControllerGetChunkSize(e,r){try{return e._strategySizeAlgorithm(r)}catch(r){WritableStreamDefaultControllerErrorIfNeeded(e,r);return 1}}function WritableStreamDefaultControllerGetDesiredSize(e){return e._strategyHWM-e._queueTotalSize}function WritableStreamDefaultControllerWrite(e,r,t){try{EnqueueValueWithSize(e,r,t)}catch(r){WritableStreamDefaultControllerErrorIfNeeded(e,r);return}var a=e._controlledWritableStream;if(!WritableStreamCloseQueuedOrInFlight(a)&&a._state==="writable"){var n=WritableStreamDefaultControllerGetBackpressure(e);WritableStreamUpdateBackpressure(a,n)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(e){var r=e._controlledWritableStream;if(!e._started){return}if(r._inFlightWriteRequest!==undefined){return}var t=r._state;if(t==="erroring"){WritableStreamFinishErroring(r);return}if(e._queue.length===0){return}var a=PeekQueueValue(e);if(a===B){WritableStreamDefaultControllerProcessClose(e)}else{WritableStreamDefaultControllerProcessWrite(e,a)}}function WritableStreamDefaultControllerErrorIfNeeded(e,r){if(e._controlledWritableStream._state==="writable"){WritableStreamDefaultControllerError(e,r)}}function WritableStreamDefaultControllerProcessClose(e){var r=e._controlledWritableStream;WritableStreamMarkCloseRequestInFlight(r);DequeueValue(e);var t=e._closeAlgorithm();WritableStreamDefaultControllerClearAlgorithms(e);uponPromise(t,(function(){WritableStreamFinishInFlightClose(r)}),(function(e){WritableStreamFinishInFlightCloseWithError(r,e)}))}function WritableStreamDefaultControllerProcessWrite(e,r){var t=e._controlledWritableStream;WritableStreamMarkFirstWriteRequestInFlight(t);var a=e._writeAlgorithm(r);uponPromise(a,(function(){WritableStreamFinishInFlightWrite(t);var r=t._state;DequeueValue(e);if(!WritableStreamCloseQueuedOrInFlight(t)&&r==="writable"){var a=WritableStreamDefaultControllerGetBackpressure(e);WritableStreamUpdateBackpressure(t,a)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}),(function(r){if(t._state==="writable"){WritableStreamDefaultControllerClearAlgorithms(e)}WritableStreamFinishInFlightWriteWithError(t,r)}))}function WritableStreamDefaultControllerGetBackpressure(e){var r=WritableStreamDefaultControllerGetDesiredSize(e);return r<=0}function WritableStreamDefaultControllerError(e,r){var t=e._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(e);WritableStreamStartErroring(t,r)}function streamBrandCheckException$2(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function defaultWriterBrandCheckException(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function defaultWriterLockException(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(e){e._closedPromise=newPromise((function(r,t){e._closedPromise_resolve=r;e._closedPromise_reject=t;e._closedPromiseState="pending"}))}function defaultWriterClosedPromiseInitializeAsRejected(e,r){defaultWriterClosedPromiseInitialize(e);defaultWriterClosedPromiseReject(e,r)}function defaultWriterClosedPromiseInitializeAsResolved(e){defaultWriterClosedPromiseInitialize(e);defaultWriterClosedPromiseResolve(e)}function defaultWriterClosedPromiseReject(e,r){if(e._closedPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._closedPromise);e._closedPromise_reject(r);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function defaultWriterClosedPromiseResetToRejected(e,r){defaultWriterClosedPromiseInitializeAsRejected(e,r)}function defaultWriterClosedPromiseResolve(e){if(e._closedPromise_resolve===undefined){return}e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function defaultWriterReadyPromiseInitialize(e){e._readyPromise=newPromise((function(r,t){e._readyPromise_resolve=r;e._readyPromise_reject=t}));e._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(e,r){defaultWriterReadyPromiseInitialize(e);defaultWriterReadyPromiseReject(e,r)}function defaultWriterReadyPromiseInitializeAsResolved(e){defaultWriterReadyPromiseInitialize(e);defaultWriterReadyPromiseResolve(e)}function defaultWriterReadyPromiseReject(e,r){if(e._readyPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._readyPromise);e._readyPromise_reject(r);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function defaultWriterReadyPromiseReset(e){defaultWriterReadyPromiseInitialize(e)}function defaultWriterReadyPromiseResetToRejected(e,r){defaultWriterReadyPromiseInitializeAsRejected(e,r)}function defaultWriterReadyPromiseResolve(e){if(e._readyPromise_resolve===undefined){return}e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}function isAbortSignal(e){if(typeof e!=="object"||e===null){return false}try{return typeof e.aborted==="boolean"}catch(e){return false}}var E=typeof DOMException!=="undefined"?DOMException:undefined;function isDOMExceptionConstructor(e){if(!(typeof e==="function"||typeof e==="object")){return false}try{new e;return true}catch(e){return false}}function createDOMExceptionPolyfill(){var e=function DOMException(e,r){this.message=e||"";this.name=r||"Error";if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}};e.prototype=Object.create(Error.prototype);Object.defineProperty(e.prototype,"constructor",{value:e,writable:true,configurable:true});return e}var D=isDOMExceptionConstructor(E)?E:createDOMExceptionPolyfill();function ReadableStreamPipeTo(e,r,t,a,n,o){var i=AcquireReadableStreamDefaultReader(e);var l=AcquireWritableStreamDefaultWriter(r);e._disturbed=true;var u=false;var s=promiseResolvedWith(undefined);return newPromise((function(d,f){var c;if(o!==undefined){c=function(){var t=new D("Aborted","AbortError");var o=[];if(!a){o.push((function(){if(r._state==="writable"){return WritableStreamAbort(r,t)}return promiseResolvedWith(undefined)}))}if(!n){o.push((function(){if(e._state==="readable"){return ReadableStreamCancel(e,t)}return promiseResolvedWith(undefined)}))}shutdownWithAction((function(){return Promise.all(o.map((function(e){return e()})))}),true,t)};if(o.aborted){c();return}o.addEventListener("abort",c)}function pipeLoop(){return newPromise((function(e,r){function next(t){if(t){e()}else{PerformPromiseThen(pipeStep(),next,r)}}next(false)}))}function pipeStep(){if(u){return promiseResolvedWith(true)}return PerformPromiseThen(l._readyPromise,(function(){return newPromise((function(e,r){ReadableStreamDefaultReaderRead(i,{_chunkSteps:function(r){s=PerformPromiseThen(WritableStreamDefaultWriterWrite(l,r),undefined,noop);e(false)},_closeSteps:function(){return e(true)},_errorSteps:r})}))}))}isOrBecomesErrored(e,i._closedPromise,(function(e){if(!a){shutdownWithAction((function(){return WritableStreamAbort(r,e)}),true,e)}else{shutdown(true,e)}}));isOrBecomesErrored(r,l._closedPromise,(function(r){if(!n){shutdownWithAction((function(){return ReadableStreamCancel(e,r)}),true,r)}else{shutdown(true,r)}}));isOrBecomesClosed(e,i._closedPromise,(function(){if(!t){shutdownWithAction((function(){return WritableStreamDefaultWriterCloseWithErrorPropagation(l)}))}else{shutdown()}}));if(WritableStreamCloseQueuedOrInFlight(r)||r._state==="closed"){var m=new TypeError("the destination writable stream closed before all data could be piped to it");if(!n){shutdownWithAction((function(){return ReadableStreamCancel(e,m)}),true,m)}else{shutdown(true,m)}}setPromiseIsHandledToTrue(pipeLoop());function waitForWritesToFinish(){var e=s;return PerformPromiseThen(s,(function(){return e!==s?waitForWritesToFinish():undefined}))}function isOrBecomesErrored(e,r,t){if(e._state==="errored"){t(e._storedError)}else{uponRejection(r,t)}}function isOrBecomesClosed(e,r,t){if(e._state==="closed"){t()}else{uponFulfillment(r,t)}}function shutdownWithAction(e,t,a){if(u){return}u=true;if(r._state==="writable"&&!WritableStreamCloseQueuedOrInFlight(r)){uponFulfillment(waitForWritesToFinish(),doTheRest)}else{doTheRest()}function doTheRest(){uponPromise(e(),(function(){return finalize(t,a)}),(function(e){return finalize(true,e)}))}}function shutdown(e,t){if(u){return}u=true;if(r._state==="writable"&&!WritableStreamCloseQueuedOrInFlight(r)){uponFulfillment(waitForWritesToFinish(),(function(){return finalize(e,t)}))}else{finalize(e,t)}}function finalize(e,r){WritableStreamDefaultWriterRelease(l);ReadableStreamReaderGenericRelease(i);if(o!==undefined){o.removeEventListener("abort",c)}if(e){f(r)}else{d(undefined)}}}))}var k=function(){function ReadableStreamDefaultController(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableStreamDefaultController.prototype,"desiredSize",{get:function(){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("desiredSize")}return ReadableStreamDefaultControllerGetDesiredSize(this)},enumerable:false,configurable:true});ReadableStreamDefaultController.prototype.close=function(){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("close")}if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)){throw new TypeError("The stream is not in a state that permits close")}ReadableStreamDefaultControllerClose(this)};ReadableStreamDefaultController.prototype.enqueue=function(e){if(e===void 0){e=undefined}if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("enqueue")}if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)){throw new TypeError("The stream is not in a state that permits enqueue")}return ReadableStreamDefaultControllerEnqueue(this,e)};ReadableStreamDefaultController.prototype.error=function(e){if(e===void 0){e=undefined}if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("error")}ReadableStreamDefaultControllerError(this,e)};ReadableStreamDefaultController.prototype[m]=function(e){ResetQueue(this);var r=this._cancelAlgorithm(e);ReadableStreamDefaultControllerClearAlgorithms(this);return r};ReadableStreamDefaultController.prototype[b]=function(e){var r=this._controlledReadableStream;if(this._queue.length>0){var t=DequeueValue(this);if(this._closeRequested&&this._queue.length===0){ReadableStreamDefaultControllerClearAlgorithms(this);ReadableStreamClose(r)}else{ReadableStreamDefaultControllerCallPullIfNeeded(this)}e._chunkSteps(t)}else{ReadableStreamAddReadRequest(r,e);ReadableStreamDefaultControllerCallPullIfNeeded(this)}};return ReadableStreamDefaultController}();Object.defineProperties(k.prototype,{close:{enumerable:true},enqueue:{enumerable:true},error:{enumerable:true},desiredSize:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(k.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:true})}function IsReadableStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")){return false}return true}function ReadableStreamDefaultControllerCallPullIfNeeded(e){var r=ReadableStreamDefaultControllerShouldCallPull(e);if(!r){return}if(e._pulling){e._pullAgain=true;return}e._pulling=true;var t=e._pullAlgorithm();uponPromise(t,(function(){e._pulling=false;if(e._pullAgain){e._pullAgain=false;ReadableStreamDefaultControllerCallPullIfNeeded(e)}}),(function(r){ReadableStreamDefaultControllerError(e,r)}))}function ReadableStreamDefaultControllerShouldCallPull(e){var r=e._controlledReadableStream;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return false}if(!e._started){return false}if(IsReadableStreamLocked(r)&&ReadableStreamGetNumReadRequests(r)>0){return true}var t=ReadableStreamDefaultControllerGetDesiredSize(e);if(t>0){return true}return false}function ReadableStreamDefaultControllerClearAlgorithms(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function ReadableStreamDefaultControllerClose(e){if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return}var r=e._controlledReadableStream;e._closeRequested=true;if(e._queue.length===0){ReadableStreamDefaultControllerClearAlgorithms(e);ReadableStreamClose(r)}}function ReadableStreamDefaultControllerEnqueue(e,r){if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return}var t=e._controlledReadableStream;if(IsReadableStreamLocked(t)&&ReadableStreamGetNumReadRequests(t)>0){ReadableStreamFulfillReadRequest(t,r,false)}else{var a=void 0;try{a=e._strategySizeAlgorithm(r)}catch(r){ReadableStreamDefaultControllerError(e,r);throw r}try{EnqueueValueWithSize(e,r,a)}catch(r){ReadableStreamDefaultControllerError(e,r);throw r}}ReadableStreamDefaultControllerCallPullIfNeeded(e)}function ReadableStreamDefaultControllerError(e,r){var t=e._controlledReadableStream;if(t._state!=="readable"){return}ResetQueue(e);ReadableStreamDefaultControllerClearAlgorithms(e);ReadableStreamError(t,r)}function ReadableStreamDefaultControllerGetDesiredSize(e){var r=e._controlledReadableStream._state;if(r==="errored"){return null}if(r==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function ReadableStreamDefaultControllerHasBackpressure(e){if(ReadableStreamDefaultControllerShouldCallPull(e)){return false}return true}function ReadableStreamDefaultControllerCanCloseOrEnqueue(e){var r=e._controlledReadableStream._state;if(!e._closeRequested&&r==="readable"){return true}return false}function SetUpReadableStreamDefaultController(e,r,t,a,n,o,i){r._controlledReadableStream=e;r._queue=undefined;r._queueTotalSize=undefined;ResetQueue(r);r._started=false;r._closeRequested=false;r._pullAgain=false;r._pulling=false;r._strategySizeAlgorithm=i;r._strategyHWM=o;r._pullAlgorithm=a;r._cancelAlgorithm=n;e._readableStreamController=r;var l=t();uponPromise(promiseResolvedWith(l),(function(){r._started=true;ReadableStreamDefaultControllerCallPullIfNeeded(r)}),(function(e){ReadableStreamDefaultControllerError(r,e)}))}function SetUpReadableStreamDefaultControllerFromUnderlyingSource(e,r,t,a){var n=Object.create(k.prototype);var startAlgorithm=function(){return undefined};var pullAlgorithm=function(){return promiseResolvedWith(undefined)};var cancelAlgorithm=function(){return promiseResolvedWith(undefined)};if(r.start!==undefined){startAlgorithm=function(){return r.start(n)}}if(r.pull!==undefined){pullAlgorithm=function(){return r.pull(n)}}if(r.cancel!==undefined){cancelAlgorithm=function(e){return r.cancel(e)}}SetUpReadableStreamDefaultController(e,n,startAlgorithm,pullAlgorithm,cancelAlgorithm,t,a)}function defaultControllerBrandCheckException$1(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function ReadableStreamTee(e,r){var t=AcquireReadableStreamDefaultReader(e);var a=false;var n=false;var o=false;var i;var l;var s;var d;var f;var c=newPromise((function(e){f=e}));function pullAlgorithm(){if(a){return promiseResolvedWith(undefined)}a=true;var e={_chunkSteps:function(e){u((function(){a=false;var r=e;var t=e;if(!n){ReadableStreamDefaultControllerEnqueue(s._readableStreamController,r)}if(!o){ReadableStreamDefaultControllerEnqueue(d._readableStreamController,t)}}))},_closeSteps:function(){a=false;if(!n){ReadableStreamDefaultControllerClose(s._readableStreamController)}if(!o){ReadableStreamDefaultControllerClose(d._readableStreamController)}if(!n||!o){f(undefined)}},_errorSteps:function(){a=false}};ReadableStreamDefaultReaderRead(t,e);return promiseResolvedWith(undefined)}function cancel1Algorithm(r){n=true;i=r;if(o){var t=CreateArrayFromList([i,l]);var a=ReadableStreamCancel(e,t);f(a)}return c}function cancel2Algorithm(r){o=true;l=r;if(n){var t=CreateArrayFromList([i,l]);var a=ReadableStreamCancel(e,t);f(a)}return c}function startAlgorithm(){}s=CreateReadableStream(startAlgorithm,pullAlgorithm,cancel1Algorithm);d=CreateReadableStream(startAlgorithm,pullAlgorithm,cancel2Algorithm);uponRejection(t._closedPromise,(function(e){ReadableStreamDefaultControllerError(s._readableStreamController,e);ReadableStreamDefaultControllerError(d._readableStreamController,e);if(!n||!o){f(undefined)}}));return[s,d]}function convertUnderlyingDefaultOrByteSource(e,r){assertDictionary(e,r);var t=e;var a=t===null||t===void 0?void 0:t.autoAllocateChunkSize;var n=t===null||t===void 0?void 0:t.cancel;var o=t===null||t===void 0?void 0:t.pull;var i=t===null||t===void 0?void 0:t.start;var l=t===null||t===void 0?void 0:t.type;return{autoAllocateChunkSize:a===undefined?undefined:convertUnsignedLongLongWithEnforceRange(a,r+" has member 'autoAllocateChunkSize' that"),cancel:n===undefined?undefined:convertUnderlyingSourceCancelCallback(n,t,r+" has member 'cancel' that"),pull:o===undefined?undefined:convertUnderlyingSourcePullCallback(o,t,r+" has member 'pull' that"),start:i===undefined?undefined:convertUnderlyingSourceStartCallback(i,t,r+" has member 'start' that"),type:l===undefined?undefined:convertReadableStreamType(l,r+" has member 'type' that")}}function convertUnderlyingSourceCancelCallback(e,r,t){assertFunction(e,t);return function(t){return promiseCall(e,r,[t])}}function convertUnderlyingSourcePullCallback(e,r,t){assertFunction(e,t);return function(t){return promiseCall(e,r,[t])}}function convertUnderlyingSourceStartCallback(e,r,t){assertFunction(e,t);return function(t){return reflectCall(e,r,[t])}}function convertReadableStreamType(e,r){e=""+e;if(e!=="bytes"){throw new TypeError(r+" '"+e+"' is not a valid enumeration value for ReadableStreamType")}return e}function convertReaderOptions(e,r){assertDictionary(e,r);var t=e===null||e===void 0?void 0:e.mode;return{mode:t===undefined?undefined:convertReadableStreamReaderMode(t,r+" has member 'mode' that")}}function convertReadableStreamReaderMode(e,r){e=""+e;if(e!=="byob"){throw new TypeError(r+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode")}return e}function convertIteratorOptions(e,r){assertDictionary(e,r);var t=e===null||e===void 0?void 0:e.preventCancel;return{preventCancel:Boolean(t)}}function convertPipeOptions(e,r){assertDictionary(e,r);var t=e===null||e===void 0?void 0:e.preventAbort;var a=e===null||e===void 0?void 0:e.preventCancel;var n=e===null||e===void 0?void 0:e.preventClose;var o=e===null||e===void 0?void 0:e.signal;if(o!==undefined){assertAbortSignal(o,r+" has member 'signal' that")}return{preventAbort:Boolean(t),preventCancel:Boolean(a),preventClose:Boolean(n),signal:o}}function assertAbortSignal(e,r){if(!isAbortSignal(e)){throw new TypeError(r+" is not an AbortSignal.")}}function convertReadableWritablePair(e,r){assertDictionary(e,r);var t=e===null||e===void 0?void 0:e.readable;assertRequiredField(t,"readable","ReadableWritablePair");assertReadableStream(t,r+" has member 'readable' that");var a=e===null||e===void 0?void 0:e.writable;assertRequiredField(a,"writable","ReadableWritablePair");assertWritableStream(a,r+" has member 'writable' that");return{readable:t,writable:a}}var q=function(){function ReadableStream(e,r){if(e===void 0){e={}}if(r===void 0){r={}}if(e===undefined){e=null}else{assertObject(e,"First parameter")}var t=convertQueuingStrategy(r,"Second parameter");var a=convertUnderlyingDefaultOrByteSource(e,"First parameter");InitializeReadableStream(this);if(a.type==="bytes"){if(t.size!==undefined){throw new RangeError("The strategy for a byte stream cannot have a size function")}var n=ExtractHighWaterMark(t,0);SetUpReadableByteStreamControllerFromUnderlyingSource(this,a,n)}else{var o=ExtractSizeAlgorithm(t);var n=ExtractHighWaterMark(t,1);SetUpReadableStreamDefaultControllerFromUnderlyingSource(this,a,n,o)}}Object.defineProperty(ReadableStream.prototype,"locked",{get:function(){if(!IsReadableStream(this)){throw streamBrandCheckException$1("locked")}return IsReadableStreamLocked(this)},enumerable:false,configurable:true});ReadableStream.prototype.cancel=function(e){if(e===void 0){e=undefined}if(!IsReadableStream(this)){return promiseRejectedWith(streamBrandCheckException$1("cancel"))}if(IsReadableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot cancel a stream that already has a reader"))}return ReadableStreamCancel(this,e)};ReadableStream.prototype.getReader=function(e){if(e===void 0){e=undefined}if(!IsReadableStream(this)){throw streamBrandCheckException$1("getReader")}var r=convertReaderOptions(e,"First parameter");if(r.mode===undefined){return AcquireReadableStreamDefaultReader(this)}return AcquireReadableStreamBYOBReader(this)};ReadableStream.prototype.pipeThrough=function(e,r){if(r===void 0){r={}}if(!IsReadableStream(this)){throw streamBrandCheckException$1("pipeThrough")}assertRequiredArgument(e,1,"pipeThrough");var t=convertReadableWritablePair(e,"First parameter");var a=convertPipeOptions(r,"Second parameter");if(IsReadableStreamLocked(this)){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream")}if(IsWritableStreamLocked(t.writable)){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream")}var n=ReadableStreamPipeTo(this,t.writable,a.preventClose,a.preventAbort,a.preventCancel,a.signal);setPromiseIsHandledToTrue(n);return t.readable};ReadableStream.prototype.pipeTo=function(e,r){if(r===void 0){r={}}if(!IsReadableStream(this)){return promiseRejectedWith(streamBrandCheckException$1("pipeTo"))}if(e===undefined){return promiseRejectedWith("Parameter 1 is required in 'pipeTo'.")}if(!IsWritableStream(e)){return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"))}var t;try{t=convertPipeOptions(r,"Second parameter")}catch(e){return promiseRejectedWith(e)}if(IsReadableStreamLocked(this)){return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"))}if(IsWritableStreamLocked(e)){return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"))}return ReadableStreamPipeTo(this,e,t.preventClose,t.preventAbort,t.preventCancel,t.signal)};ReadableStream.prototype.tee=function(){if(!IsReadableStream(this)){throw streamBrandCheckException$1("tee")}var e=ReadableStreamTee(this);return CreateArrayFromList(e)};ReadableStream.prototype.values=function(e){if(e===void 0){e=undefined}if(!IsReadableStream(this)){throw streamBrandCheckException$1("values")}var r=convertIteratorOptions(e,"First parameter");return AcquireReadableStreamAsyncIterator(this,r.preventCancel)};return ReadableStream}();Object.defineProperties(q.prototype,{cancel:{enumerable:true},getReader:{enumerable:true},pipeThrough:{enumerable:true},pipeTo:{enumerable:true},tee:{enumerable:true},values:{enumerable:true},locked:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(q.prototype,r.toStringTag,{value:"ReadableStream",configurable:true})}if(typeof r.asyncIterator==="symbol"){Object.defineProperty(q.prototype,r.asyncIterator,{value:q.prototype.values,writable:true,configurable:true})}function CreateReadableStream(e,r,t,a,n){if(a===void 0){a=1}if(n===void 0){n=function(){return 1}}var o=Object.create(q.prototype);InitializeReadableStream(o);var i=Object.create(k.prototype);SetUpReadableStreamDefaultController(o,i,e,r,t,a,n);return o}function InitializeReadableStream(e){e._state="readable";e._reader=undefined;e._storedError=undefined;e._disturbed=false}function IsReadableStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")){return false}return true}function IsReadableStreamLocked(e){if(e._reader===undefined){return false}return true}function ReadableStreamCancel(e,r){e._disturbed=true;if(e._state==="closed"){return promiseResolvedWith(undefined)}if(e._state==="errored"){return promiseRejectedWith(e._storedError)}ReadableStreamClose(e);var t=e._readableStreamController[m](r);return transformPromiseWith(t,noop)}function ReadableStreamClose(e){e._state="closed";var r=e._reader;if(r===undefined){return}defaultReaderClosedPromiseResolve(r);if(IsReadableStreamDefaultReader(r)){r._readRequests.forEach((function(e){e._closeSteps()}));r._readRequests=new d}}function ReadableStreamError(e,r){e._state="errored";e._storedError=r;var t=e._reader;if(t===undefined){return}defaultReaderClosedPromiseReject(t,r);if(IsReadableStreamDefaultReader(t)){t._readRequests.forEach((function(e){e._errorSteps(r)}));t._readRequests=new d}else{t._readIntoRequests.forEach((function(e){e._errorSteps(r)}));t._readIntoRequests=new d}}function streamBrandCheckException$1(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function convertQueuingStrategyInit(e,r){assertDictionary(e,r);var t=e===null||e===void 0?void 0:e.highWaterMark;assertRequiredField(t,"highWaterMark","QueuingStrategyInit");return{highWaterMark:convertUnrestrictedDouble(t)}}var A=function size(e){return e.byteLength};var j=function(){function ByteLengthQueuingStrategy(e){assertRequiredArgument(e,1,"ByteLengthQueuingStrategy");e=convertQueuingStrategyInit(e,"First parameter");this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}Object.defineProperty(ByteLengthQueuingStrategy.prototype,"highWaterMark",{get:function(){if(!IsByteLengthQueuingStrategy(this)){throw byteLengthBrandCheckException("highWaterMark")}return this._byteLengthQueuingStrategyHighWaterMark},enumerable:false,configurable:true});Object.defineProperty(ByteLengthQueuingStrategy.prototype,"size",{get:function(){if(!IsByteLengthQueuingStrategy(this)){throw byteLengthBrandCheckException("size")}return A},enumerable:false,configurable:true});return ByteLengthQueuingStrategy}();Object.defineProperties(j.prototype,{highWaterMark:{enumerable:true},size:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(j.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:true})}function byteLengthBrandCheckException(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function IsByteLengthQueuingStrategy(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")){return false}return true}var O=function size(){return 1};var F=function(){function CountQueuingStrategy(e){assertRequiredArgument(e,1,"CountQueuingStrategy");e=convertQueuingStrategyInit(e,"First parameter");this._countQueuingStrategyHighWaterMark=e.highWaterMark}Object.defineProperty(CountQueuingStrategy.prototype,"highWaterMark",{get:function(){if(!IsCountQueuingStrategy(this)){throw countBrandCheckException("highWaterMark")}return this._countQueuingStrategyHighWaterMark},enumerable:false,configurable:true});Object.defineProperty(CountQueuingStrategy.prototype,"size",{get:function(){if(!IsCountQueuingStrategy(this)){throw countBrandCheckException("size")}return O},enumerable:false,configurable:true});return CountQueuingStrategy}();Object.defineProperties(F.prototype,{highWaterMark:{enumerable:true},size:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(F.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:true})}function countBrandCheckException(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function IsCountQueuingStrategy(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")){return false}return true}function convertTransformer(e,r){assertDictionary(e,r);var t=e===null||e===void 0?void 0:e.flush;var a=e===null||e===void 0?void 0:e.readableType;var n=e===null||e===void 0?void 0:e.start;var o=e===null||e===void 0?void 0:e.transform;var i=e===null||e===void 0?void 0:e.writableType;return{flush:t===undefined?undefined:convertTransformerFlushCallback(t,e,r+" has member 'flush' that"),readableType:a,start:n===undefined?undefined:convertTransformerStartCallback(n,e,r+" has member 'start' that"),transform:o===undefined?undefined:convertTransformerTransformCallback(o,e,r+" has member 'transform' that"),writableType:i}}function convertTransformerFlushCallback(e,r,t){assertFunction(e,t);return function(t){return promiseCall(e,r,[t])}}function convertTransformerStartCallback(e,r,t){assertFunction(e,t);return function(t){return reflectCall(e,r,[t])}}function convertTransformerTransformCallback(e,r,t){assertFunction(e,t);return function(t,a){return promiseCall(e,r,[t,a])}}var z=function(){function TransformStream(e,r,t){if(e===void 0){e={}}if(r===void 0){r={}}if(t===void 0){t={}}if(e===undefined){e=null}var a=convertQueuingStrategy(r,"Second parameter");var n=convertQueuingStrategy(t,"Third parameter");var o=convertTransformer(e,"First parameter");if(o.readableType!==undefined){throw new RangeError("Invalid readableType specified")}if(o.writableType!==undefined){throw new RangeError("Invalid writableType specified")}var i=ExtractHighWaterMark(n,0);var l=ExtractSizeAlgorithm(n);var u=ExtractHighWaterMark(a,1);var s=ExtractSizeAlgorithm(a);var d;var f=newPromise((function(e){d=e}));InitializeTransformStream(this,f,u,s,i,l);SetUpTransformStreamDefaultControllerFromTransformer(this,o);if(o.start!==undefined){d(o.start(this._transformStreamController))}else{d(undefined)}}Object.defineProperty(TransformStream.prototype,"readable",{get:function(){if(!IsTransformStream(this)){throw streamBrandCheckException("readable")}return this._readable},enumerable:false,configurable:true});Object.defineProperty(TransformStream.prototype,"writable",{get:function(){if(!IsTransformStream(this)){throw streamBrandCheckException("writable")}return this._writable},enumerable:false,configurable:true});return TransformStream}();Object.defineProperties(z.prototype,{readable:{enumerable:true},writable:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(z.prototype,r.toStringTag,{value:"TransformStream",configurable:true})}function InitializeTransformStream(e,r,t,a,n,o){function startAlgorithm(){return r}function writeAlgorithm(r){return TransformStreamDefaultSinkWriteAlgorithm(e,r)}function abortAlgorithm(r){return TransformStreamDefaultSinkAbortAlgorithm(e,r)}function closeAlgorithm(){return TransformStreamDefaultSinkCloseAlgorithm(e)}e._writable=CreateWritableStream(startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,t,a);function pullAlgorithm(){return TransformStreamDefaultSourcePullAlgorithm(e)}function cancelAlgorithm(r){TransformStreamErrorWritableAndUnblockWrite(e,r);return promiseResolvedWith(undefined)}e._readable=CreateReadableStream(startAlgorithm,pullAlgorithm,cancelAlgorithm,n,o);e._backpressure=undefined;e._backpressureChangePromise=undefined;e._backpressureChangePromise_resolve=undefined;TransformStreamSetBackpressure(e,true);e._transformStreamController=undefined}function IsTransformStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")){return false}return true}function TransformStreamError(e,r){ReadableStreamDefaultControllerError(e._readable._readableStreamController,r);TransformStreamErrorWritableAndUnblockWrite(e,r)}function TransformStreamErrorWritableAndUnblockWrite(e,r){TransformStreamDefaultControllerClearAlgorithms(e._transformStreamController);WritableStreamDefaultControllerErrorIfNeeded(e._writable._writableStreamController,r);if(e._backpressure){TransformStreamSetBackpressure(e,false)}}function TransformStreamSetBackpressure(e,r){if(e._backpressureChangePromise!==undefined){e._backpressureChangePromise_resolve()}e._backpressureChangePromise=newPromise((function(r){e._backpressureChangePromise_resolve=r}));e._backpressure=r}var x=function(){function TransformStreamDefaultController(){throw new TypeError("Illegal constructor")}Object.defineProperty(TransformStreamDefaultController.prototype,"desiredSize",{get:function(){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("desiredSize")}var e=this._controlledTransformStream._readable._readableStreamController;return ReadableStreamDefaultControllerGetDesiredSize(e)},enumerable:false,configurable:true});TransformStreamDefaultController.prototype.enqueue=function(e){if(e===void 0){e=undefined}if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("enqueue")}TransformStreamDefaultControllerEnqueue(this,e)};TransformStreamDefaultController.prototype.error=function(e){if(e===void 0){e=undefined}if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("error")}TransformStreamDefaultControllerError(this,e)};TransformStreamDefaultController.prototype.terminate=function(){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("terminate")}TransformStreamDefaultControllerTerminate(this)};return TransformStreamDefaultController}();Object.defineProperties(x.prototype,{enqueue:{enumerable:true},error:{enumerable:true},terminate:{enumerable:true},desiredSize:{enumerable:true}});if(typeof r.toStringTag==="symbol"){Object.defineProperty(x.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:true})}function IsTransformStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")){return false}return true}function SetUpTransformStreamDefaultController(e,r,t,a){r._controlledTransformStream=e;e._transformStreamController=r;r._transformAlgorithm=t;r._flushAlgorithm=a}function SetUpTransformStreamDefaultControllerFromTransformer(e,r){var t=Object.create(x.prototype);var transformAlgorithm=function(e){try{TransformStreamDefaultControllerEnqueue(t,e);return promiseResolvedWith(undefined)}catch(e){return promiseRejectedWith(e)}};var flushAlgorithm=function(){return promiseResolvedWith(undefined)};if(r.transform!==undefined){transformAlgorithm=function(e){return r.transform(e,t)}}if(r.flush!==undefined){flushAlgorithm=function(){return r.flush(t)}}SetUpTransformStreamDefaultController(e,t,transformAlgorithm,flushAlgorithm)}function TransformStreamDefaultControllerClearAlgorithms(e){e._transformAlgorithm=undefined;e._flushAlgorithm=undefined}function TransformStreamDefaultControllerEnqueue(e,r){var t=e._controlledTransformStream;var a=t._readable._readableStreamController;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(a)){throw new TypeError("Readable side is not in a state that permits enqueue")}try{ReadableStreamDefaultControllerEnqueue(a,r)}catch(e){TransformStreamErrorWritableAndUnblockWrite(t,e);throw t._readable._storedError}var n=ReadableStreamDefaultControllerHasBackpressure(a);if(n!==t._backpressure){TransformStreamSetBackpressure(t,true)}}function TransformStreamDefaultControllerError(e,r){TransformStreamError(e._controlledTransformStream,r)}function TransformStreamDefaultControllerPerformTransform(e,r){var t=e._transformAlgorithm(r);return transformPromiseWith(t,undefined,(function(r){TransformStreamError(e._controlledTransformStream,r);throw r}))}function TransformStreamDefaultControllerTerminate(e){var r=e._controlledTransformStream;var t=r._readable._readableStreamController;ReadableStreamDefaultControllerClose(t);var a=new TypeError("TransformStream terminated");TransformStreamErrorWritableAndUnblockWrite(r,a)}function TransformStreamDefaultSinkWriteAlgorithm(e,r){var t=e._transformStreamController;if(e._backpressure){var a=e._backpressureChangePromise;return transformPromiseWith(a,(function(){var a=e._writable;var n=a._state;if(n==="erroring"){throw a._storedError}return TransformStreamDefaultControllerPerformTransform(t,r)}))}return TransformStreamDefaultControllerPerformTransform(t,r)}function TransformStreamDefaultSinkAbortAlgorithm(e,r){TransformStreamError(e,r);return promiseResolvedWith(undefined)}function TransformStreamDefaultSinkCloseAlgorithm(e){var r=e._readable;var t=e._transformStreamController;var a=t._flushAlgorithm();TransformStreamDefaultControllerClearAlgorithms(t);return transformPromiseWith(a,(function(){if(r._state==="errored"){throw r._storedError}ReadableStreamDefaultControllerClose(r._readableStreamController)}),(function(t){TransformStreamError(e,t);throw r._storedError}))}function TransformStreamDefaultSourcePullAlgorithm(e){TransformStreamSetBackpressure(e,false);return e._backpressureChangePromise}function defaultControllerBrandCheckException(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function streamBrandCheckException(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.ByteLengthQueuingStrategy=j;e.CountQueuingStrategy=F;e.ReadableByteStreamController=W;e.ReadableStream=q;e.ReadableStreamBYOBReader=w;e.ReadableStreamBYOBRequest=g;e.ReadableStreamDefaultController=k;e.ReadableStreamDefaultReader=h;e.TransformStream=z;e.TransformStreamDefaultController=x;e.WritableStream=P;e.WritableStreamDefaultController=T;e.WritableStreamDefaultWriter=I;Object.defineProperty(e,"__esModule",{value:true})}))}};if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r={};e[554](0,r);module.exports=r})();