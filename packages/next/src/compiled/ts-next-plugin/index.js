(()=>{"use strict";var t={188:(t,i,r)=>{if(process.env.NODE_ENV==="production"){t.exports=r(994)}else{t.exports=r(121)}},121:(t,i,r)=>{var p;p={value:true};function _extends(){_extends=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var p in r){if(Object.prototype.hasOwnProperty.call(r,p)){t[p]=r[p]}}}return t};return _extends.apply(this,arguments)}var g=false;try{g=typeof localStorage!=="undefined"}catch(t){}var m=typeof process!=="undefined";var h=g&&localStorage.getItem("DEBUG")||m&&process.env.DEBUG;var y=h?console.log:function(t){return""};function createVirtualTypeScriptEnvironment(t,i,r,p,g){if(p===void 0){p={}}var m=_extends({},F(r),p);var h=createVirtualLanguageServiceHost(t,i,m,r,g),y=h.languageServiceHost,v=h.updateFile,x=h.deleteFile;var S=r.createLanguageService(y);var E=S.getCompilerOptionsDiagnostics();if(E.length){var T=createVirtualCompilerHost(t,p,r);throw new Error(r.formatDiagnostics(E,T.compilerHost))}return{name:"vfs",sys:t,languageService:S,getSourceFile:function getSourceFile(t){var i;return(i=S.getProgram())==null?void 0:i.getSourceFile(t)},createFile:function createFile(t,i){v(r.createSourceFile(t,i,m.target,false))},updateFile:function updateFile(t,i,p){var g=S.getProgram().getSourceFile(t);if(!g){throw new Error("Did not find a source file for "+t)}var m=g.text;var h=p!=null?p:r.createTextSpan(0,m.length);var y=m.slice(0,h.start)+i+m.slice(h.start+h.length);var x=r.updateSourceFile(g,y,{span:h,newLength:i.length});v(x)},deleteFile:function deleteFile(t){var i=S.getProgram().getSourceFile(t);if(i){x(i)}}}}var v=function knownLibFilesForCompilerOptions(t,i){var r=t.target||i.ScriptTarget.ES5;var p=t.lib||[];var g=["lib.d.ts","lib.core.d.ts","lib.decorators.d.ts","lib.decorators.legacy.d.ts","lib.dom.asynciterable.d.ts","lib.dom.d.ts","lib.dom.iterable.d.ts","lib.webworker.asynciterable.d.ts","lib.webworker.d.ts","lib.webworker.importscripts.d.ts","lib.webworker.iterable.d.ts","lib.scripthost.d.ts","lib.es5.d.ts","lib.es6.d.ts","lib.es7.d.ts","lib.core.es6.d.ts","lib.core.es7.d.ts","lib.es2015.collection.d.ts","lib.es2015.core.d.ts","lib.es2015.d.ts","lib.es2015.generator.d.ts","lib.es2015.iterable.d.ts","lib.es2015.promise.d.ts","lib.es2015.proxy.d.ts","lib.es2015.reflect.d.ts","lib.es2015.symbol.d.ts","lib.es2015.symbol.wellknown.d.ts","lib.es2016.array.include.d.ts","lib.es2016.d.ts","lib.es2016.full.d.ts","lib.es2016.intl.d.ts","lib.es2017.arraybuffer.d.ts","lib.es2017.d.ts","lib.es2017.date.d.ts","lib.es2017.full.d.ts","lib.es2017.intl.d.ts","lib.es2017.object.d.ts","lib.es2017.sharedmemory.d.ts","lib.es2017.string.d.ts","lib.es2017.typedarrays.d.ts","lib.es2018.asyncgenerator.d.ts","lib.es2018.asynciterable.d.ts","lib.es2018.d.ts","lib.es2018.full.d.ts","lib.es2018.intl.d.ts","lib.es2018.promise.d.ts","lib.es2018.regexp.d.ts","lib.es2019.array.d.ts","lib.es2019.d.ts","lib.es2019.full.d.ts","lib.es2019.intl.d.ts","lib.es2019.object.d.ts","lib.es2019.string.d.ts","lib.es2019.symbol.d.ts","lib.es2020.bigint.d.ts","lib.es2020.d.ts","lib.es2020.date.d.ts","lib.es2020.full.d.ts","lib.es2020.intl.d.ts","lib.es2020.number.d.ts","lib.es2020.promise.d.ts","lib.es2020.sharedmemory.d.ts","lib.es2020.string.d.ts","lib.es2020.symbol.wellknown.d.ts","lib.es2021.d.ts","lib.es2021.full.d.ts","lib.es2021.intl.d.ts","lib.es2021.promise.d.ts","lib.es2021.string.d.ts","lib.es2021.weakref.d.ts","lib.es2022.array.d.ts","lib.es2022.d.ts","lib.es2022.error.d.ts","lib.es2022.full.d.ts","lib.es2022.intl.d.ts","lib.es2022.object.d.ts","lib.es2022.regexp.d.ts","lib.es2022.sharedmemory.d.ts","lib.es2022.string.d.ts","lib.es2023.array.d.ts","lib.es2023.collection.d.ts","lib.es2023.d.ts","lib.es2023.full.d.ts","lib.es2023.intl.d.ts","lib.es2024.arraybuffer.d.ts","lib.es2024.collection.d.ts","lib.es2024.d.ts","lib.es2024.full.d.ts","lib.es2024.object.d.ts","lib.es2024.promise.d.ts","lib.es2024.regexp.d.ts","lib.es2024.sharedmemory.d.ts","lib.es2024.string.d.ts","lib.esnext.array.d.ts","lib.esnext.asynciterable.d.ts","lib.esnext.bigint.d.ts","lib.esnext.collection.d.ts","lib.esnext.d.ts","lib.esnext.decorators.d.ts","lib.esnext.disposable.d.ts","lib.esnext.float16.d.ts","lib.esnext.full.d.ts","lib.esnext.intl.d.ts","lib.esnext.iterator.d.ts","lib.esnext.object.d.ts","lib.esnext.promise.d.ts","lib.esnext.regexp.d.ts","lib.esnext.string.d.ts","lib.esnext.symbol.d.ts","lib.esnext.weakref.d.ts"];var m=i.ScriptTarget[r];var h=g.filter((function(t){return t.startsWith("lib."+m.toLowerCase())}));var y=g.indexOf(h.pop());var v=function getMax(t){return t&&t.length?t.reduce((function(t,i){return i>t?i:t})):undefined};var x=p.map((function(t){var i=g.filter((function(i){return i.startsWith("lib."+t.toLowerCase())}));if(i.length===0)return 0;var r=g.indexOf(i.pop());return r}));var S=v(x)||0;var E=Math.max(y,S);return g.slice(0,E+1)};var x=function createDefaultMapFromNodeModules(t,i,p){var g=_();var m=w();var h=function getLib(t){var i=p||g.dirname(r.ab+"typescript.js");return m.readFileSync(g.join(i,t),"utf8")};var y=function isDtsFile(t){return/\.d\.([^\.]+\.)?[cm]?ts$/i.test(t)};var v=m.readdirSync(p||g.dirname(r.ab+"typescript.js"));var x=v.filter((function(t){return t.startsWith("lib.")&&y(t)}));var S=new Map;x.forEach((function(t){S.set("/"+t,h(t))}));return S};var S=function addAllFilesFromFolder(t,i){var r=_();var p=w();var g=function walk(t){var i=[];var g=p.readdirSync(t);g.forEach((function(g){g=r.join(t,g);var m=p.statSync(g);if(m&&m.isDirectory()){i=i.concat(walk(g))}else{i.push(g)}}));return i};var m=g(i);m.forEach((function(g){var m="/node_modules/@types"+g.replace(i,"");var h=p.readFileSync(g,"utf8");var y=[".ts",".tsx"];if(y.includes(r.extname(m))){t.set(m,h)}}))};var E=function addFilesForTypesIntoFolder(t){return S(t,"node_modules/@types")};var T=function createDefaultMapFromCDN(t,i,r,p,g,m,h){var y=m||fetch;var x=new Map;var S=v(t,p);var E="https://playgroundcdn.typescriptlang.org/cdn/"+i+"/typescript/lib/";function zip(t){return g?g.compressToUTF16(t):t}function unzip(t){return g?g.decompressFromUTF16(t):t}function uncached(){return Promise.all(S.map((function(t){return y(E+t).then((function(t){return t.text()}))}))).then((function(t){t.forEach((function(t,i){return x.set("/"+S[i],t)}))}))["catch"]((function(){}))}function cached(){var t=h||localStorage;var r=Object.keys(t);r.forEach((function(r){if(r.startsWith("ts-lib-")&&!r.startsWith("ts-lib-"+i)){t.removeItem(r)}}));return Promise.all(S.map((function(r){var p="ts-lib-"+i+"-"+r;var g=t.getItem(p);if(!g){return y(E+r).then((function(t){return t.text()})).then((function(i){t.setItem(p,zip(i));return i}))["catch"]((function(){}))}else{return Promise.resolve(unzip(g))}}))).then((function(t){t.forEach((function(t,i){if(t){var r="/"+S[i];x.set(r,t)}}))}))}var T=r?cached:uncached;return T().then((function(){return x}))};function notImplemented(t){throw new Error("Method '"+t+"' is not implemented.")}function audit(t,i){return function(){for(var r=arguments.length,p=new Array(r),g=0;g<r;g++){p[g]=arguments[g]}var m=i.apply(void 0,p);var h=typeof m==="string"?m.slice(0,80)+"...":m;y.apply(void 0,["> "+t].concat(p));y("< "+h);return m}}var F=function defaultCompilerOptions(t){return _extends({},t.getDefaultCompilerOptions(),{jsx:t.JsxEmit.React,strict:true,esModuleInterop:true,module:t.ModuleKind.ESNext,suppressOutputPathCheck:true,skipLibCheck:true,skipDefaultLibCheck:true,moduleResolution:t.ModuleResolutionKind.NodeJs})};var D=function libize(t){return t.replace("/","/lib.").toLowerCase()};function createSystem(t){return{args:[],createDirectory:function createDirectory(){return notImplemented("createDirectory")},directoryExists:audit("directoryExists",(function(i){return Array.from(t.keys()).some((function(t){return t.startsWith(i)}))})),exit:function exit(){return notImplemented("exit")},fileExists:audit("fileExists",(function(i){return t.has(i)||t.has(D(i))})),getCurrentDirectory:function getCurrentDirectory(){return"/"},getDirectories:function getDirectories(){return[]},getExecutingFilePath:function getExecutingFilePath(){return notImplemented("getExecutingFilePath")},readDirectory:audit("readDirectory",(function(i){return i==="/"?Array.from(t.keys()):[]})),readFile:audit("readFile",(function(i){var r;return(r=t.get(i))!=null?r:t.get(D(i))})),resolvePath:function resolvePath(t){return t},newLine:"\n",useCaseSensitiveFileNames:true,write:function write(){return notImplemented("write")},writeFile:function writeFile(i,r){t.set(i,r)},deleteFile:function deleteFile(i){t["delete"](i)}}}function createFSBackedSystem(t,i,p,g){var m=i+"/vfs";var h=_();var y=p.sys;var v=g!=null?g:h.dirname(r.ab+"typescript.js");return{name:"fs-vfs",root:m,args:[],createDirectory:function createDirectory(){return notImplemented("createDirectory")},directoryExists:audit("directoryExists",(function(i){return Array.from(t.keys()).some((function(t){return t.startsWith(i)}))||y.directoryExists(i)})),exit:y.exit,fileExists:audit("fileExists",(function(i){if(t.has(i))return true;if(i.includes("tsconfig.json")||i.includes("tsconfig.json"))return false;if(i.startsWith("/lib")){var r=v+"/"+i.replace("/","");return y.fileExists(r)}return y.fileExists(i)})),getCurrentDirectory:function getCurrentDirectory(){return m},getDirectories:y.getDirectories,getExecutingFilePath:function getExecutingFilePath(){return notImplemented("getExecutingFilePath")},readDirectory:audit("readDirectory",(function(){if((arguments.length<=0?undefined:arguments[0])==="/"){return Array.from(t.keys())}else{return y.readDirectory.apply(y,arguments)}})),readFile:audit("readFile",(function(i){if(t.has(i))return t.get(i);if(i.startsWith("/lib")){var r=v+"/"+i.replace("/","");var p=y.readFile(r);if(!p){var g=y.readDirectory(v);throw new Error("TSVFS: A request was made for "+r+" but there wasn't a file found in the file map. You likely have a mismatch in the compiler options for the CDN download vs the compiler program. Existing Libs: "+g+".")}return p}return y.readFile(i)})),resolvePath:function resolvePath(i){if(t.has(i))return i;return y.resolvePath(i)},newLine:"\n",useCaseSensitiveFileNames:true,write:function write(){return notImplemented("write")},writeFile:function writeFile(i,r){t.set(i,r)},deleteFile:function deleteFile(i){t["delete"](i)},realpath:y.realpath}}function createVirtualCompilerHost(t,i,r){var p=new Map;var g=function save(t){p.set(t.fileName,t);return t};var m={compilerHost:_extends({},t,{getCanonicalFileName:function getCanonicalFileName(t){return t},getDefaultLibFileName:function getDefaultLibFileName(){return"/"+r.getDefaultLibFileName(i)},getNewLine:function getNewLine(){return t.newLine},getSourceFile:function getSourceFile(m,h){var y;return p.get(m)||g(r.createSourceFile(m,t.readFile(m),(y=h!=null?h:i.target)!=null?y:F(r).target,false))},useCaseSensitiveFileNames:function useCaseSensitiveFileNames(){return t.useCaseSensitiveFileNames}}),updateFile:function updateFile(i){var r=p.has(i.fileName);t.writeFile(i.fileName,i.text);p.set(i.fileName,i);return r},deleteFile:function deleteFile(i){var r=p.has(i.fileName);p["delete"](i.fileName);t.deleteFile(i.fileName);return r}};return m}function createVirtualLanguageServiceHost(t,i,r,p,g){var m=[].concat(i);var h=createVirtualCompilerHost(t,r,p),y=h.compilerHost,v=h.updateFile,x=h.deleteFile;var S=new Map;var E=0;var T=_extends({},y,{getProjectVersion:function getProjectVersion(){return E.toString()},getCompilationSettings:function getCompilationSettings(){return r},getCustomTransformers:function getCustomTransformers(){return g},getScriptFileNames:function getScriptFileNames(){return m.slice()},getScriptSnapshot:function getScriptSnapshot(i){var r=t.readFile(i);if(r&&typeof r==="string"){return p.ScriptSnapshot.fromString(r)}return},getScriptVersion:function getScriptVersion(t){return S.get(t)||"0"},writeFile:t.writeFile});var F={languageServiceHost:T,updateFile:function updateFile(t){E++;S.set(t.fileName,E.toString());if(!m.includes(t.fileName)){m.push(t.fileName)}v(t)},deleteFile:function deleteFile(t){E++;S.set(t.fileName,E.toString());var i=m.indexOf(t.fileName);if(i!==-1){m.splice(i,1)}x(t)}};return F}var _=function requirePath(){return require(String.fromCharCode(112,97,116,104))};var w=function requireFS(){return require(String.fromCharCode(102,115))};p=S;p=E;p=T;i.createDefaultMapFromNodeModules=x;i.createFSBackedSystem=createFSBackedSystem;p=createSystem;p=createVirtualCompilerHost;p=createVirtualLanguageServiceHost;i.createVirtualTypeScriptEnvironment=createVirtualTypeScriptEnvironment;p=v},994:(t,i,r)=>{var p;function e(){return e=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var p in r)Object.prototype.hasOwnProperty.call(r,p)&&(t[p]=r[p])}return t},e.apply(this,arguments)}p={value:!0};var g=!1;try{g="undefined"!=typeof localStorage}catch(e){}var m="undefined"!=typeof process,h=g&&localStorage.getItem("DEBUG")||m&&process.env.DEBUG?console.log:function(t){return""},s=function(t,i){var r,p=t.lib||[],g=["lib.d.ts","lib.core.d.ts","lib.decorators.d.ts","lib.decorators.legacy.d.ts","lib.dom.asynciterable.d.ts","lib.dom.d.ts","lib.dom.iterable.d.ts","lib.webworker.asynciterable.d.ts","lib.webworker.d.ts","lib.webworker.importscripts.d.ts","lib.webworker.iterable.d.ts","lib.scripthost.d.ts","lib.es5.d.ts","lib.es6.d.ts","lib.es7.d.ts","lib.core.es6.d.ts","lib.core.es7.d.ts","lib.es2015.collection.d.ts","lib.es2015.core.d.ts","lib.es2015.d.ts","lib.es2015.generator.d.ts","lib.es2015.iterable.d.ts","lib.es2015.promise.d.ts","lib.es2015.proxy.d.ts","lib.es2015.reflect.d.ts","lib.es2015.symbol.d.ts","lib.es2015.symbol.wellknown.d.ts","lib.es2016.array.include.d.ts","lib.es2016.d.ts","lib.es2016.full.d.ts","lib.es2016.intl.d.ts","lib.es2017.arraybuffer.d.ts","lib.es2017.d.ts","lib.es2017.date.d.ts","lib.es2017.full.d.ts","lib.es2017.intl.d.ts","lib.es2017.object.d.ts","lib.es2017.sharedmemory.d.ts","lib.es2017.string.d.ts","lib.es2017.typedarrays.d.ts","lib.es2018.asyncgenerator.d.ts","lib.es2018.asynciterable.d.ts","lib.es2018.d.ts","lib.es2018.full.d.ts","lib.es2018.intl.d.ts","lib.es2018.promise.d.ts","lib.es2018.regexp.d.ts","lib.es2019.array.d.ts","lib.es2019.d.ts","lib.es2019.full.d.ts","lib.es2019.intl.d.ts","lib.es2019.object.d.ts","lib.es2019.string.d.ts","lib.es2019.symbol.d.ts","lib.es2020.bigint.d.ts","lib.es2020.d.ts","lib.es2020.date.d.ts","lib.es2020.full.d.ts","lib.es2020.intl.d.ts","lib.es2020.number.d.ts","lib.es2020.promise.d.ts","lib.es2020.sharedmemory.d.ts","lib.es2020.string.d.ts","lib.es2020.symbol.wellknown.d.ts","lib.es2021.d.ts","lib.es2021.full.d.ts","lib.es2021.intl.d.ts","lib.es2021.promise.d.ts","lib.es2021.string.d.ts","lib.es2021.weakref.d.ts","lib.es2022.array.d.ts","lib.es2022.d.ts","lib.es2022.error.d.ts","lib.es2022.full.d.ts","lib.es2022.intl.d.ts","lib.es2022.object.d.ts","lib.es2022.regexp.d.ts","lib.es2022.sharedmemory.d.ts","lib.es2022.string.d.ts","lib.es2023.array.d.ts","lib.es2023.collection.d.ts","lib.es2023.d.ts","lib.es2023.full.d.ts","lib.es2023.intl.d.ts","lib.es2024.arraybuffer.d.ts","lib.es2024.collection.d.ts","lib.es2024.d.ts","lib.es2024.full.d.ts","lib.es2024.object.d.ts","lib.es2024.promise.d.ts","lib.es2024.regexp.d.ts","lib.es2024.sharedmemory.d.ts","lib.es2024.string.d.ts","lib.esnext.array.d.ts","lib.esnext.asynciterable.d.ts","lib.esnext.bigint.d.ts","lib.esnext.collection.d.ts","lib.esnext.d.ts","lib.esnext.decorators.d.ts","lib.esnext.disposable.d.ts","lib.esnext.float16.d.ts","lib.esnext.full.d.ts","lib.esnext.intl.d.ts","lib.esnext.iterator.d.ts","lib.esnext.object.d.ts","lib.esnext.promise.d.ts","lib.esnext.regexp.d.ts","lib.esnext.string.d.ts","lib.esnext.symbol.d.ts","lib.esnext.weakref.d.ts"],m=i.ScriptTarget[t.target||i.ScriptTarget.ES5],h=g.filter((function(t){return t.startsWith("lib."+m.toLowerCase())})),y=g.indexOf(h.pop()),v=p.map((function(t){var i=g.filter((function(i){return i.startsWith("lib."+t.toLowerCase())}));return 0===i.length?0:g.indexOf(i.pop())})),x=((r=v)&&r.length?r.reduce((function(t,i){return i>t?i:t})):void 0)||0,S=Math.max(y,x);return g.slice(0,S+1)},n=function(t,i){var r=f(),p=b();(function e(t){var i=[];return p.readdirSync(t).forEach((function(g){g=r.join(t,g);var m=p.statSync(g);m&&m.isDirectory()?i=i.concat(e(g)):i.push(g)})),i})(i).forEach((function(g){var m="/node_modules/@types"+g.replace(i,""),h=p.readFileSync(g,"utf8");[".ts",".tsx"].includes(r.extname(m))&&t.set(m,h)}))};function l(t){throw new Error("Method '"+t+"' is not implemented.")}function o(t,i){return function(){for(var r=arguments.length,p=new Array(r),g=0;g<r;g++)p[g]=arguments[g];var m=i.apply(void 0,p),y="string"==typeof m?m.slice(0,80)+"...":m;return h.apply(void 0,["> "+t].concat(p)),h("< "+y),m}}var a=function(t){return e({},t.getDefaultCompilerOptions(),{jsx:t.JsxEmit.React,strict:!0,esModuleInterop:!0,module:t.ModuleKind.ESNext,suppressOutputPathCheck:!0,skipLibCheck:!0,skipDefaultLibCheck:!0,moduleResolution:t.ModuleResolutionKind.NodeJs})},c=function(t){return t.replace("/","/lib.").toLowerCase()};function u(t,i,r){var p=new Map;return{compilerHost:e({},t,{getCanonicalFileName:function(t){return t},getDefaultLibFileName:function(){return"/"+r.getDefaultLibFileName(i)},getNewLine:function(){return t.newLine},getSourceFile:function(g,m){var h,y;return p.get(g)||(y=r.createSourceFile(g,t.readFile(g),null!=(h=null!=m?m:i.target)?h:a(r).target,!1),p.set(y.fileName,y),y)},useCaseSensitiveFileNames:function(){return t.useCaseSensitiveFileNames}}),updateFile:function(i){var r=p.has(i.fileName);return t.writeFile(i.fileName,i.text),p.set(i.fileName,i),r},deleteFile:function(i){var r=p.has(i.fileName);return p.delete(i.fileName),t.deleteFile(i.fileName),r}}}function d(t,i,r,p,g){var m=[].concat(i),h=u(t,r,p),y=h.compilerHost,v=h.updateFile,x=h.deleteFile,S=new Map,E=0;return{languageServiceHost:e({},y,{getProjectVersion:function(){return E.toString()},getCompilationSettings:function(){return r},getCustomTransformers:function(){return g},getScriptFileNames:function(){return m.slice()},getScriptSnapshot:function(i){var r=t.readFile(i);if(r&&"string"==typeof r)return p.ScriptSnapshot.fromString(r)},getScriptVersion:function(t){return S.get(t)||"0"},writeFile:t.writeFile}),updateFile:function(t){E++,S.set(t.fileName,E.toString()),m.includes(t.fileName)||m.push(t.fileName),v(t)},deleteFile:function(t){E++,S.set(t.fileName,E.toString());var i=m.indexOf(t.fileName);-1!==i&&m.splice(i,1),x(t)}}}var f=function(){return require(String.fromCharCode(112,97,116,104))},b=function(){return require(String.fromCharCode(102,115))};p=n,p=function(t){return n(t,"node_modules/@types")},p=function(t,i,r,p,g,m,h){var y=m||fetch,v=new Map,x=s(t,p),S="https://playgroundcdn.typescriptlang.org/cdn/"+i+"/typescript/lib/";return(r?function(){var t=h||localStorage;return Object.keys(t).forEach((function(r){r.startsWith("ts-lib-")&&!r.startsWith("ts-lib-"+i)&&t.removeItem(r)})),Promise.all(x.map((function(r){var p,m="ts-lib-"+i+"-"+r,h=t.getItem(m);return h?Promise.resolve((p=h,g?g.decompressFromUTF16(p):p)):y(S+r).then((function(t){return t.text()})).then((function(i){var r;return t.setItem(m,(r=i,g?g.compressToUTF16(r):r)),i})).catch((function(){}))}))).then((function(t){t.forEach((function(t,i){t&&v.set("/"+x[i],t)}))}))}:function(){return Promise.all(x.map((function(t){return y(S+t).then((function(t){return t.text()}))}))).then((function(t){t.forEach((function(t,i){return v.set("/"+x[i],t)}))})).catch((function(){}))})().then((function(){return v}))},i.createDefaultMapFromNodeModules=function(t,i,p){var g=f(),m=b(),h=m.readdirSync(p||g.dirname(r.ab+"typescript.js")).filter((function(t){return t.startsWith("lib.")&&/\.d\.([^\.]+\.)?[cm]?ts$/i.test(t)})),y=new Map;return h.forEach((function(t){y.set("/"+t,function(t){var i=p||g.dirname(r.ab+"typescript.js");return m.readFileSync(g.join(i,t),"utf8")}(t))})),y},i.createFSBackedSystem=function(t,i,p,g){var m=i+"/vfs",h=f(),y=p.sys,v=null!=g?g:h.dirname(r.ab+"typescript.js");return{name:"fs-vfs",root:m,args:[],createDirectory:function(){return l("createDirectory")},directoryExists:o("directoryExists",(function(i){return Array.from(t.keys()).some((function(t){return t.startsWith(i)}))||y.directoryExists(i)})),exit:y.exit,fileExists:o("fileExists",(function(i){if(t.has(i))return!0;if(i.includes("tsconfig.json")||i.includes("tsconfig.json"))return!1;if(i.startsWith("/lib")){var r=v+"/"+i.replace("/","");return y.fileExists(r)}return y.fileExists(i)})),getCurrentDirectory:function(){return m},getDirectories:y.getDirectories,getExecutingFilePath:function(){return l("getExecutingFilePath")},readDirectory:o("readDirectory",(function(){return"/"===(arguments.length<=0?void 0:arguments[0])?Array.from(t.keys()):y.readDirectory.apply(y,arguments)})),readFile:o("readFile",(function(i){if(t.has(i))return t.get(i);if(i.startsWith("/lib")){var r=v+"/"+i.replace("/",""),p=y.readFile(r);if(!p){var g=y.readDirectory(v);throw new Error("TSVFS: A request was made for "+r+" but there wasn't a file found in the file map. You likely have a mismatch in the compiler options for the CDN download vs the compiler program. Existing Libs: "+g+".")}return p}return y.readFile(i)})),resolvePath:function(i){return t.has(i)?i:y.resolvePath(i)},newLine:"\n",useCaseSensitiveFileNames:!0,write:function(){return l("write")},writeFile:function(i,r){t.set(i,r)},deleteFile:function(i){t.delete(i)},realpath:y.realpath}},p=function(t){return{args:[],createDirectory:function(){return l("createDirectory")},directoryExists:o("directoryExists",(function(i){return Array.from(t.keys()).some((function(t){return t.startsWith(i)}))})),exit:function(){return l("exit")},fileExists:o("fileExists",(function(i){return t.has(i)||t.has(c(i))})),getCurrentDirectory:function(){return"/"},getDirectories:function(){return[]},getExecutingFilePath:function(){return l("getExecutingFilePath")},readDirectory:o("readDirectory",(function(i){return"/"===i?Array.from(t.keys()):[]})),readFile:o("readFile",(function(i){var r;return null!=(r=t.get(i))?r:t.get(c(i))})),resolvePath:function(t){return t},newLine:"\n",useCaseSensitiveFileNames:!0,write:function(){return l("write")},writeFile:function(i,r){t.set(i,r)},deleteFile:function(i){t.delete(i)}}},p=u,p=d,i.createVirtualTypeScriptEnvironment=function(t,i,r,p,g){void 0===p&&(p={});var m=e({},a(r),p),h=d(t,i,m,r,g),y=h.updateFile,v=h.deleteFile,x=r.createLanguageService(h.languageServiceHost),S=x.getCompilerOptionsDiagnostics();if(S.length){var E=u(t,p,r);throw new Error(r.formatDiagnostics(S,E.compilerHost))}return{name:"vfs",sys:t,languageService:x,getSourceFile:function(t){var i;return null==(i=x.getProgram())?void 0:i.getSourceFile(t)},createFile:function(t,i){y(r.createSourceFile(t,i,m.target,!1))},updateFile:function(t,i,p){var g=x.getProgram().getSourceFile(t);if(!g)throw new Error("Did not find a source file for "+t);var m=g.text,h=null!=p?p:r.createTextSpan(0,m.length),v=m.slice(0,h.start)+i+m.slice(h.start+h.length),S=r.updateSourceFile(g,v,{span:h,newLength:i.length});y(S)},deleteFile:function(t){var i=x.getProgram().getSourceFile(t);i&&v(i)}}},p=s}};var i={};function __nccwpck_require__(r){var p=i[r];if(p!==undefined){return p.exports}var g=i[r]={exports:{}};var m=true;try{t[r](g,g.exports,__nccwpck_require__);m=false}finally{if(m)delete i[r]}return g.exports}(()=>{__nccwpck_require__.n=t=>{var i=t&&t.__esModule?()=>t["default"]:()=>t;__nccwpck_require__.d(i,{a:i});return i}})();(()=>{__nccwpck_require__.d=(t,i)=>{for(var r in i){if(__nccwpck_require__.o(i,r)&&!__nccwpck_require__.o(t,r)){Object.defineProperty(t,r,{enumerable:true,get:i[r]})}}}})();(()=>{__nccwpck_require__.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i)})();(()=>{__nccwpck_require__.r=t=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r={};(()=>{__nccwpck_require__.r(r);__nccwpck_require__.d(r,{createTSPlugin:()=>createTSPlugin});var t=__nccwpck_require__(188);const i=require("path");var p=__nccwpck_require__.n(i);let g;let m;let h;let y;function log(t){m.project.projectService.logger.info("[next] "+t)}function init(r){const p=r.info.project.getCurrentDirectory();g=r.ts;m=r.info;h=new RegExp("^"+(p+"(/src)?/app").replace(/[\\/]/g,"[\\/]"));log("Initializing Next.js TypeScript plugin: "+p);const v=m.project.getCompilerOptions();const x=(0,t.createDefaultMapFromNodeModules)(v,g,(0,i.join)(p,"node_modules/typescript/lib"));const S=(0,t.createFSBackedSystem)(x,p,g);y=(0,t.createVirtualTypeScriptEnvironment)(S,[],g,v);if(!y){log("Failed to create virtual TypeScript environment. This is a bug in Next.js TypeScript plugin. Please report it by opening an issue at https://github.com/vercel/next.js/issues.");return false}log("Successfully initialized Next.js TypeScript plugin!");return true}function getTs(){return g}function getInfo(){return m}function getTypeChecker(){var t;return(t=m.languageService.getProgram())===null||t===void 0?void 0:t.getTypeChecker()}function getSource(t){var i;return(i=m.languageService.getProgram())===null||i===void 0?void 0:i.getSourceFile(t)}function getSourceFromVirtualTsEnv(t){if(y.sys.fileExists(t)){return y.getSourceFile(t)}return getSource(t)}function removeStringQuotes(t){return t.replace(/^['"`]|['"`]$/g,"")}const isPositionInsideNode=(t,i)=>{const r=i.getFullStart();return r<=t&&t<=i.getFullWidth()+r};const isDefaultFunctionExport=t=>{if(g.isFunctionDeclaration(t)){let i=false;let r=false;if(t.modifiers){for(const p of t.modifiers){if(p.kind===g.SyntaxKind.ExportKeyword){i=true}else if(p.kind===g.SyntaxKind.DefaultKeyword){r=true}}}if(i&&r){return true}}return false};const isInsideApp=t=>h.test(t);const isAppEntryFile=t=>h.test(t)&&/^(page|layout)\.(mjs|js|jsx|ts|tsx)$/.test(p().basename(t));const isPageFile=t=>h.test(t)&&/^page\.(mjs|js|jsx|ts|tsx)$/.test(p().basename(t));function getEntryInfo(t,i){const r=getSource(t);if(r){let t=true;let p=false;let m=false;g.forEachChild(r,(r=>{if(g.isExpressionStatement(r)&&g.isStringLiteral(r.expression)){if(r.expression.text==="use client"){if(t){p=true}else{if(i){const t={messageText:'The `"use client"` directive must be put at the top of the file.',start:r.expression.getStart(),length:r.expression.getWidth()};throw t}}}else if(r.expression.text==="use server"){if(t){m=true}else{if(i){const t={messageText:'The `"use server"` directive must be put at the top of the file.',start:r.expression.getStart(),length:r.expression.getWidth()};throw t}}}if(p&&m){const t={messageText:'Cannot use both "use client" and "use server" directives in the same file.',start:r.expression.getStart(),length:r.expression.getWidth()};throw t}}else{t=false}}));return{client:p,server:m}}return{client:false,server:false}}const v={INVALID_SERVER_API:71001,INVALID_ENTRY_EXPORT:71002,INVALID_OPTION_VALUE:71003,MISPLACED_ENTRY_DIRECTIVE:71004,INVALID_PAGE_PROP:71005,INVALID_CONFIG_OPTION:71006,INVALID_CLIENT_ENTRY_PROP:71007,INVALID_METADATA_EXPORT:71008,INVALID_ERROR_COMPONENT:71009,INVALID_ENTRY_DIRECTIVE:71010,INVALID_SERVER_ENTRY_RETURN:71011};const x=["config","generateStaticParams","metadata","generateMetadata","viewport","generateViewport"];const S="config";const E=["useState","useEffect","useLayoutEffect","useDeferredValue","useImperativeHandle","useInsertionEffect","useReducer","useRef","useSyncExternalStore","useTransition","Component","PureComponent","createContext","createFactory","experimental_useOptimistic","useOptimistic","useActionState"];const T=["useFormStatus","useFormState"];const F=["params","searchParams"];const D=["params","children"];const _={dynamic:{description:"The `dynamic` option provides a few ways to opt in or out of dynamic behavior.",options:{'"auto"':"Heuristic to cache as much as possible but doesn’t prevent any component to opt-in to dynamic behavior.",'"force-dynamic"':"This disables all caching of fetches and always revalidates. (This is equivalent to `getServerSideProps`.)",'"error"':"This errors if any dynamic Hooks or fetches are used. (This is equivalent to `getStaticProps`.)",'"force-static"':"This forces caching of all fetches and returns empty values from `cookies`, `headers` and `useSearchParams`."},link:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#dynamic"},fetchCache:{description:"The `fetchCache` option controls how Next.js statically caches fetches. By default it statically caches fetches reachable before any dynamic Hooks are used, and it doesn’t cache fetches that are discovered after that.",options:{'"force-no-store"':"This lets you intentionally opt-out of all caching of data. This option forces all fetches to be refetched every request even if the `cache: 'force-cache'` option is passed to `fetch()`.",'"only-no-store"':"This lets you enforce that all data opts out of caching. This option makes `fetch()` reject with an error if `cache: 'force-cache'` is provided. It also changes the default to `no-store`.",'"default-no-store"':"Allows any explicit `cache` option to be passed to `fetch()` but if `'default'`, or no option, is provided then it defaults to `'no-store'`. This means that even fetches before a dynamic Hook are considered dynamic.",'"auto"':"This is the default option. It caches any fetches with the default `cache` option provided, that happened before a dynamic Hook is used and don’t cache any such fetches if they’re issued after a dynamic Hook.",'"default-cache"':"Allows any explicit `cache` option to be passed to `fetch()` but if `'default'`, or no option, is provided then it defaults to `'force-cache'`. This means that even fetches before a dynamic Hook are considered dynamic.",'"only-cache"':"This lets you enforce that all data opts into caching. This option makes `fetch()` reject with an error if `cache: 'force-cache'` is provided. It also changes the default to `force-cache`. This error can be discovered early during static builds - or dynamically during Edge rendering.",'"force-cache"':"This lets you intentionally opt-in to all caching of data. This option forces all fetches to be cache even if the `cache: 'no-store'` option is passed to `fetch()`."},link:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#fetchcache"},preferredRegion:{description:'Specify the perferred region that this layout or page should be deployed to. If the region option is not specified, it inherits the option from the nearest parent layout. The root defaults to `"auto"`.\n\nYou can also specify a region, such as "iad1", or an array of regions, such as `["iad1", "sfo1"]`.',options:{'"auto"':'Next.js will first deploy to the `"home"` region. Then if it doesn’t detect any waterfall requests after a few requests, it can upgrade that route, to be deployed globally. If it detects any waterfall requests after that, it can eventually downgrade back to `"home`".','"global"':"Prefer deploying globally.",'"home"':"Prefer deploying to the Home region."},link:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#preferredregion",isValid:t=>{try{const i=JSON.parse(t);return typeof i==="string"||Array.isArray(i)&&!i.some((t=>typeof t!=="string"))}catch(t){return false}},getHint:t=>{if(t==="auto")return`Automatically chosen by Next.js.`;if(t==="global")return`Prefer deploying globally.`;if(t==="home")return`Prefer deploying to the Home region.`;if(Array.isArray(t))return`Deploy to regions: ${t.join(", ")}.`;if(typeof t==="string")return`Deploy to region: ${t}.`}},revalidate:{description:"The `revalidate` option sets the default revalidation time for that layout or page. Note that it doesn’t override the value specify by each `fetch()`.",type:"mixed",options:{false:"This is the default and changes the fetch cache to indefinitely cache anything that uses force-cache or is fetched before a dynamic Hook/fetch.",0:"Specifying `0` implies that this layout or page should never be static.",30:"Set the revalidation time to `30` seconds. The value can be `0` or any positive number."},link:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#revalidate",isValid:t=>t==="false"||Number(t.replace(/_/g,""))>=0,getHint:t=>`Set the default revalidation time to \`${t}\` seconds.`},dynamicParams:{description:"`dynamicParams` replaces the `fallback` option of `getStaticPaths`. It controls whether we allow `dynamicParams` beyond the generated static params from `generateStaticParams`.",options:{true:"Allow rendering dynamic params that are not generated by `generateStaticParams`.",false:"Disallow rendering dynamic params that are not generated by `generateStaticParams`."},link:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#dynamicparams",isValid:t=>t==="true"||t==="false"},runtime:{description:"The `runtime` option controls the preferred runtime to render this route.",options:{'"nodejs"':"Prefer the Node.js runtime.",'"edge"':"Prefer the Edge runtime.",'"experimental-edge"':`@deprecated\n\nThis option is no longer experimental. Use \`edge\` instead.`},link:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#runtime"},metadata:{description:"Next.js Metadata configurations",link:"https://nextjs.org/docs/app/building-your-application/optimizing/metadata"},maxDuration:{description:"`maxDuration` allows you to set max default execution time for your function. If it is not specified, the default value is dependent on your deployment platform and plan.",link:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#maxduration"},experimental_ppr:{description:`Enables experimental Partial Prerendering (PPR) for this page / layout, when PPR is set to "incremental" mode.`,link:"https://nextjs.org/docs/app/api-reference/next-config-js/ppr",options:{true:"Enable PPR for this route",false:"Disable PPR for this route"},isValid:t=>t==="true"||t==="false"}};function visitEntryConfig(t,i,r){const p=getSource(t);if(p){const t=getTs();t.forEachChild(p,(function visit(p){var g;if(isPositionInsideNode(i,p)){if(t.isVariableStatement(p)&&((g=p.modifiers)===null||g===void 0?void 0:g.some((i=>i.kind===t.SyntaxKind.ExportKeyword)))){if(t.isVariableDeclarationList(p.declarationList)){for(const t of p.declarationList.declarations){if(isPositionInsideNode(i,t)){const i=t.name.getText();r(i,t)}}}}}}))}}function createAutoCompletionOptionName(t,i){const r=getTs();return{name:i,sortText:"!"+t,kind:r.ScriptElementKind.constElement,kindModifiers:r.ScriptElementKindModifier.exportedModifier,labelDetails:{description:`Next.js ${i} option`},data:{exportName:i,moduleSpecifier:"next/typescript/entry_option_name"}}}function createAutoCompletionOptionValue(t,i,r){const p=getTs();const g=i.startsWith('"');return{name:i,insertText:removeStringQuotes(i),sortText:""+t,kind:g?p.ScriptElementKind.string:p.ScriptElementKind.unknown,kindModifiers:p.ScriptElementKindModifier.none,labelDetails:{description:`Next.js ${r} option`},data:{exportName:r,moduleSpecifier:"next/typescript/entry_option_value"}}}function getAPIDescription(t){return _[t].description+"\n\n"+Object.entries(_[t].options||{}).map((([t,i])=>`- \`${t}\`: ${i}`)).join("\n")}const w={addCompletionsAtPosition(t,i,r){visitEntryConfig(t,i,((t,p)=>{if(!_[t]){if(isPositionInsideNode(i,p.name)){r.entries.push(...Object.keys(_).map(((t,i)=>createAutoCompletionOptionName(i,t))))}return}r.entries.push(...Object.keys(_[t].options||{}).map(((i,r)=>createAutoCompletionOptionValue(r,i,t))))}))},getQuickInfoAtPosition(t,i){const r=getTs();let p;visitEntryConfig(t,i,((t,g)=>{var m,h,y,v,x,S;if(!_[t])return;const E=g.name;const T=g.initializer;const F={kind:"text",text:`\n\nRead more about the "${t}" option: `+_[t].link};if(T&&isPositionInsideNode(i,T)){const i=r.isStringLiteral(T);const g=removeStringQuotes(T.getText());const E=i?`"${g}"`:g;const D=_[t].isValid?(h=(m=_[t]).isValid)===null||h===void 0?void 0:h.call(m,E):!!((y=_[t].options)===null||y===void 0?void 0:y[E]);if(D){p={kind:r.ScriptElementKind.enumElement,kindModifiers:r.ScriptElementKindModifier.none,textSpan:{start:T.getStart(),length:T.getWidth()},displayParts:[],documentation:[{kind:"text",text:((v=_[t].options)===null||v===void 0?void 0:v[E])||((S=(x=_[t]).getHint)===null||S===void 0?void 0:S.call(x,E))||""},F]}}else{p={kind:r.ScriptElementKind.enumElement,kindModifiers:r.ScriptElementKindModifier.none,textSpan:{start:T.getStart(),length:T.getWidth()},displayParts:[],documentation:[F]}}}else{p={kind:r.ScriptElementKind.enumElement,kindModifiers:r.ScriptElementKindModifier.none,textSpan:{start:E.getStart(),length:E.getWidth()},displayParts:[],documentation:[{kind:"text",text:getAPIDescription(t)},F]}}}));return p},getCompletionEntryDetails(t,i){const r=getTs();if(i&&i.moduleSpecifier&&i.moduleSpecifier.startsWith("next/typescript")){let p="";if(i.moduleSpecifier==="next/typescript/entry_option_name"){p=getAPIDescription(t)}else{const r=_[i.exportName].options;if(!r)return;p=r[t]}return{name:t,kind:r.ScriptElementKind.enumElement,kindModifiers:r.ScriptElementKindModifier.none,displayParts:[],documentation:[{kind:"text",text:p}]}}},getSemanticDiagnosticsForExportVariableStatement(t,i){var r,p,g,m,h,y,E,T;const F=getTs();const D=[];if(F.isVariableDeclarationList(i.declarationList)){for(const w of i.declarationList.declarations){const i=w.name;if(F.isIdentifier(i)){if(!x.includes(i.text)&&!_[i.text]){D.push({file:t,category:F.DiagnosticCategory.Error,code:v.INVALID_ENTRY_EXPORT,messageText:`"${i.text}" is not a valid Next.js entry export value.`,start:i.getStart(),length:i.getWidth()})}else if(_[i.text]){const x=w.initializer;const S=_[i.text].options;if(x&&S){let w="";let N="";let P=false;if(F.isStringLiteral(x)||F.isNoSubstitutionTemplateLiteral(x)){const t='"'+removeStringQuotes(x.getText())+'"';const g=Object.keys(S).filter((t=>/^['"]/.test(t)));if(!g.includes(t)&&!((p=(r=_[i.text]).isValid)===null||p===void 0?void 0:p.call(r,t))){P=true;w=t}}else if(F.isNumericLiteral(x)||F.isPrefixUnaryExpression(x)&&F.isMinusToken(x.operator)&&(F.isNumericLiteral(x.operand.kind)||F.isIdentifier(x.operand.kind)&&x.operand.kind.getText()==="Infinity")||F.isIdentifier(x)&&x.getText()==="Infinity"){const t=x.getText();if(!((m=(g=_[i.text]).isValid)===null||m===void 0?void 0:m.call(g,t))){P=true;w=t}}else if(x.kind===F.SyntaxKind.TrueKeyword||x.kind===F.SyntaxKind.FalseKeyword){const t=x.getText();if(!((y=(h=_[i.text]).isValid)===null||y===void 0?void 0:y.call(h,t))){P=true;w=t}}else if(F.isArrayLiteralExpression(x)){const t=x.getText();if(!((T=(E=_[i.text]).isValid)===null||T===void 0?void 0:T.call(E,JSON.stringify(x.elements.map((t=>t.getText())))))){P=true;w=t}}else if(F.isBigIntLiteral(x)||F.isObjectLiteralExpression(x)||F.isRegularExpressionLiteral(x)||F.isPrefixUnaryExpression(x)){P=true;w=x.getText()}else{P=true;w=x.getText();N=`"${w}" is not a valid value for the "${i.text}" option. The configuration must be statically analyzable.`}if(P){D.push({file:t,category:F.DiagnosticCategory.Error,code:v.INVALID_OPTION_VALUE,messageText:N||`"${w}" is not a valid value for the "${i.text}" option.`,start:x.getStart(),length:x.getWidth()})}}}else if(i.text===S){const i=w.initializer;if(i&&F.isObjectLiteralExpression(i)){for(const r of i.properties){if(F.isPropertyAssignment(r)&&F.isIdentifier(r.name)&&r.name.text==="amp"){D.push({file:t,category:F.DiagnosticCategory.Error,code:v.INVALID_CONFIG_OPTION,messageText:`AMP is not supported in the app directory. If you need to use AMP it will continue to be supported in the pages directory.`,start:r.getStart(),length:r.getWidth()})}}}}}}}return D}};const N=w;const P={filterCompletionsAtPosition(t){return t.filter((t=>{if(E.includes(t.name)&&t.source==="react"){return false}return true}))},hasDisallowedReactAPIDefinition(t){return t===null||t===void 0?void 0:t.some((t=>E.includes(t.name)&&t.containerName==="React"))},getSemanticDiagnosticsForImportDeclaration(t,i){const r=getTs();const p=[];const g=i.moduleSpecifier.getText(t);const m=i.importClause;const h=m===null||m===void 0?void 0:m.namedBindings;if(m){if(/^['"]react['"]$/.test(g)){if(h&&r.isNamedImports(h)){const i=h.elements;for(const g of i){const i=g.name.getText(t);if(E.includes(i)){p.push({file:t,category:r.DiagnosticCategory.Error,code:v.INVALID_SERVER_API,messageText:`"${i}" is not allowed in Server Components.`,start:g.name.getStart(),length:g.name.getWidth()})}}}}else if(/^['"]react-dom['"]$/.test(g)){if(h&&r.isNamedImports(h)){const i=h.elements;for(const g of i){const i=g.name.getText(t);if(T.includes(i)){p.push({file:t,category:r.DiagnosticCategory.Error,code:v.INVALID_SERVER_API,messageText:`"${i}" is not allowed in Server Components.`,start:g.name.getStart(),length:g.name.getWidth()})}}}}}return p}};const C=P;const k=require("fs");var I=__nccwpck_require__.n(k);const A={getCompletionsAtPosition(t,i,r){var g;const m=getTs();const h=[];const y=(g=i.parameters)===null||g===void 0?void 0:g[0];if(y&&isPositionInsideNode(r,y)){const i=y===null||y===void 0?void 0:y.name;if(i&&m.isObjectBindingPattern(i)){let g=[];let v=[];let x;if(isPageFile(t)){g=F;v=F;x="page"}else{const i=p().dirname(t);const r=I().readdirSync(i,{withFileTypes:true});const m=[];for(const t of r){if(t.isDirectory()&&t.name.startsWith("@")){m.push(t.name.slice(1))}}g=D.concat(m);v=D.concat(m.map((t=>`${t}: React.ReactNode`)));x="layout"}for(const t of i.elements){if(isPositionInsideNode(r,t)){const i=t.propertyName||t.name;if(isPositionInsideNode(r,i)){for(const t of g){h.push({name:t,insertText:t,sortText:"_"+t,kind:m.ScriptElementKind.memberVariableElement,kindModifiers:m.ScriptElementKindModifier.none,labelDetails:{description:`Next.js ${x} prop`}})}}break}}if(y.type&&m.isTypeLiteralNode(y.type)){for(const t of y.type.members){if(isPositionInsideNode(r,t)){for(const t of v){h.push({name:t,insertText:t,sortText:"_"+t,kind:m.ScriptElementKind.memberVariableElement,kindModifiers:m.ScriptElementKindModifier.none,labelDetails:{description:`Next.js ${x} prop type`}})}break}}}}}return h},getSemanticDiagnostics(t,i,r){var g,m;const h=getTs();let y=[];let x;if(isPageFile(t)){y=F;x="page"}else{const i=p().dirname(t);const r=I().readdirSync(i,{withFileTypes:true});const g=[];for(const t of r){if(t.isDirectory()&&t.name.startsWith("@")){g.push(t.name.slice(1))}}y=D.concat(g);x="layout"}const S=[];const E=(m=(g=r.parameters)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.name;if(E&&h.isObjectBindingPattern(E)){for(const t of E.elements){const r=(t.propertyName||t.name).getText();if(!y.includes(r)){S.push({file:i,category:h.DiagnosticCategory.Error,code:v.INVALID_PAGE_PROP,messageText:`"${r}" is not a valid ${x} prop.`,start:t.getStart(),length:t.getWidth()})}}}return S}};const V=A;const L={getSemanticDiagnosticsForExportVariableStatement(t,i){const r=getTs();const p=[];if(r.isVariableDeclarationList(i.declarationList)){for(const g of i.declarationList.declarations){const i=g.initializer;if(i&&r.isArrowFunction(i)){p.push(...L.getSemanticDiagnosticsForFunctionExport(t,i))}}}return p},getSemanticDiagnosticsForFunctionExport(t,i){var r,p,g,m;const h=getTs();const y=getTypeChecker();if(!y)return[];const x=[];const S=/[\\/]error\.tsx?$/.test(t.fileName);const E=/[\\/]global-error\.tsx?$/.test(t.fileName);const T=(p=(r=i.parameters)===null||r===void 0?void 0:r[0])===null||p===void 0?void 0:p.name;if(T&&h.isObjectBindingPattern(T)){for(const i of T.elements){const r=y.getTypeAtLocation(i);const p=(m=(g=r.symbol)===null||g===void 0?void 0:g.getDeclarations())===null||m===void 0?void 0:m[0];const T=(i.propertyName||i.name).getText();if(p){if(h.isFunctionTypeNode(p)){const r=T==="action"||/.+Action$/.test(T);const p=(S||E)&&T==="reset";if(!r&&!p){x.push({file:t,category:h.DiagnosticCategory.Warning,code:v.INVALID_CLIENT_ENTRY_PROP,messageText:`Props must be serializable for components in the "use client" entry file. `+`"${T}" is a function that's not a Server Action. `+`Rename "${T}" either to "action" or have its name end with "Action" e.g. "${T}Action" to indicate it is a Server Action.`,start:i.getStart(),length:i.getWidth()})}}else if(h.isConstructorTypeNode(p)||h.isClassDeclaration(p)){x.push({file:t,category:h.DiagnosticCategory.Warning,code:v.INVALID_CLIENT_ENTRY_PROP,messageText:`Props must be serializable for components in the "use client" entry file, "${T}" is invalid.`,start:i.getStart(),length:i.getWidth()})}}}}return x}};const j=L;function isPromiseType(t,i){const r=t;if(!r.target)return false;if(!/^Promise(<.+>)?$/.test(i.typeToString(r.target))){return false}return true}function isFunctionReturningPromise(t,i,r){const p=i.getTypeAtLocation(t);const g=i.getSignaturesOfType(p,r.SignatureKind.Call);let m=true;if(g.length){for(const t of g){const r=t.getReturnType();if(r.isUnion()){for(const t of r.types){if(!isPromiseType(t,i)){m=false;break}}}else{m=isPromiseType(r,i)}}}else{m=false}return m}const R={getSemanticDiagnosticsForExportDeclaration(t,i){const r=getTs();const p=getTypeChecker();if(!p)return[];const g=[];const m=i.exportClause;if(!i.isTypeOnly&&m&&r.isNamedExports(m)){for(const i of m.elements){if(i.isTypeOnly){continue}if(!isFunctionReturningPromise(i,p,r)){g.push({file:t,category:r.DiagnosticCategory.Error,code:v.INVALID_SERVER_ENTRY_RETURN,messageText:`The "use server" file can only export async functions.`,start:i.getStart(),length:i.getWidth()})}}}return g},getSemanticDiagnosticsForExportVariableStatement(t,i){const r=getTs();const p=[];if(r.isVariableDeclarationList(i.declarationList)){for(const g of i.declarationList.declarations){const i=g.initializer;if(i&&(r.isArrowFunction(i)||r.isFunctionDeclaration(i)||r.isFunctionExpression(i)||r.isCallExpression(i)||r.isIdentifier(i))){p.push(...R.getSemanticDiagnosticsForFunctionExport(t,i))}else{p.push({file:t,category:r.DiagnosticCategory.Error,code:v.INVALID_SERVER_ENTRY_RETURN,messageText:`The "use server" file can only export async functions.`,start:g.getStart(),length:g.getWidth()})}}}return p},getSemanticDiagnosticsForFunctionExport(t,i){const r=getTs();const p=getTypeChecker();if(!p)return[];const g=[];if(!isFunctionReturningPromise(i,p,r)){g.push({file:t,category:r.DiagnosticCategory.Error,code:v.INVALID_SERVER_ENTRY_RETURN,messageText:`The "use server" file can only export async functions. Add "async" to the function declaration or return a Promise.`,start:i.getStart(),length:i.getWidth()})}return g}};const O=R;const M=": Metadata | null";const W=": Promise<Metadata | null>";const K=`\n\nimport type { Metadata } from 'next'`;function getMetadataExport(t,i){const r=getSource(t);let p;if(r){const t=getTs();t.forEachChild(r,(function visit(r){var g;if(p)return;if(isPositionInsideNode(i,r)){if(t.isVariableStatement(r)&&((g=r.modifiers)===null||g===void 0?void 0:g.some((i=>i.kind===t.SyntaxKind.ExportKeyword)))){if(t.isVariableDeclarationList(r.declarationList)){for(const t of r.declarationList.declarations){if(isPositionInsideNode(i,t)&&t.name.getText()==="metadata"){p=t;return}}}}}}))}return p}function updateVirtualFileWithType(t,i,r){var p;const g=getSource(t);if(!g)return;const m=g.getFullText();let h;let v;const x=getTs();if(x.isFunctionDeclaration(i)){if(r){h=i.body.getFullStart();const t=(p=i.modifiers)===null||p===void 0?void 0:p.some((t=>t.kind===x.SyntaxKind.AsyncKeyword));v=t?W:M}else{return}}else{h=i.name.getFullStart()+i.name.getFullWidth();v=M}const S=m.slice(0,h)+v+m.slice(h)+K;if(y.getSourceFile(t)){log("Updating file: "+t);y.updateFile(t,S)}else{log("Creating file: "+t);y.createFile(t,S)}return[h,v.length]}function isTyped(t){return t.type!==undefined}function proxyDiagnostics(t,i,r){const p=y.languageService.getSemanticDiagnostics(t);const g=getSourceFromVirtualTsEnv(t);return p.filter((t=>{if(t.start===undefined||t.length===undefined)return false;if(t.start<r.getFullStart())return false;if(t.start+t.length>=r.getFullStart()+r.getFullWidth()+i[1])return false;return true})).map((t=>({file:g,category:t.category,code:t.code,messageText:t.messageText,start:t.start<i[0]?t.start:t.start-i[1],length:t.length})))}const $={filterCompletionsAtPosition(t,i,r,p){const g=getMetadataExport(t,i);if(!g)return p;if(isTyped(g))return p;const m=updateVirtualFileWithType(t,g);if(m===undefined)return p;const h=i<=m[0]?i:i+m[1];const v=y.languageService.getCompletionsAtPosition(t,h,undefined);if(v){const t=getTs();v.isIncomplete=true;if(v.optionalReplacementSpan){v.optionalReplacementSpan.start-=h-i}v.entries=v.entries.filter((i=>[t.ScriptElementKind.memberVariableElement,t.ScriptElementKind.typeElement,t.ScriptElementKind.string].includes(i.kind))).map((i=>{const r=i.kind===t.ScriptElementKind.memberVariableElement&&/^[a-zA-Z0-9_]+$/.test(i.name)?i.name+": ":i.name;return{name:i.name,insertText:r,kind:i.kind,kindModifiers:i.kindModifiers,sortText:"!"+i.name,labelDetails:{description:`Next.js metadata`},data:i.data}}));return v}return p},getSemanticDiagnosticsForExportVariableStatementInClientEntry(t,i){var r;const p=getSource(t);const g=getTs();if(g.isFunctionDeclaration(i)){if(((r=i.name)===null||r===void 0?void 0:r.getText())==="generateMetadata"){return[{file:p,category:g.DiagnosticCategory.Error,code:v.INVALID_METADATA_EXPORT,messageText:`The Next.js 'generateMetadata' API is not allowed in a client component.`,start:i.name.getStart(),length:i.name.getWidth()}]}}else{for(const t of i.declarationList.declarations){const i=t.name.getText();if(i==="metadata"){return[{file:p,category:g.DiagnosticCategory.Error,code:v.INVALID_METADATA_EXPORT,messageText:`The Next.js 'metadata' API is not allowed in a client component.`,start:t.name.getStart(),length:t.name.getWidth()}]}}}return[]},getSemanticDiagnosticsForExportVariableStatement(t,i){var r;const p=getTs();if(p.isFunctionDeclaration(i)){if(((r=i.name)===null||r===void 0?void 0:r.getText())==="generateMetadata"){if(isTyped(i))return[];const r=updateVirtualFileWithType(t,i,true);if(!r)return[];return proxyDiagnostics(t,r,i)}}else{for(const r of i.declarationList.declarations){if(r.name.getText()==="metadata"){if(isTyped(r))break;const i=updateVirtualFileWithType(t,r);if(!i)break;return proxyDiagnostics(t,i,r)}}}return[]},getSemanticDiagnosticsForExportDeclarationInClientEntry(t,i){const r=getTs();const p=getSource(t);const g=[];const m=i.exportClause;if(m&&r.isNamedExports(m)){for(const t of m.elements){if(["generateMetadata","metadata"].includes(t.name.getText())){g.push({file:p,category:r.DiagnosticCategory.Error,code:v.INVALID_METADATA_EXPORT,messageText:`The Next.js '${t.name.getText()}' API is not allowed in a client component.`,start:t.name.getStart(),length:t.name.getWidth()})}}}return g},getSemanticDiagnosticsForExportDeclaration(t,i){const r=getTs();const p=i.exportClause;if(p&&r.isNamedExports(p)){for(const i of p.elements){if(i.name.getText()==="metadata"){const p=getTypeChecker();if(p){const g=p.getSymbolAtLocation(i.name);if(g){const m=p.getAliasedSymbol(g);if(m&&m.declarations){const p=m.declarations[0];if(p&&r.isVariableDeclaration(p)){if(isTyped(p))break;const g=p.getSourceFile().fileName;const m=g===t;const h=updateVirtualFileWithType(g,p);if(!h)break;const y=proxyDiagnostics(g,h,p);if(y.length){if(m){return y}else{return[{file:getSource(t),category:r.DiagnosticCategory.Error,code:v.INVALID_METADATA_EXPORT,messageText:`The 'metadata' export value is not typed correctly, please make sure it is typed as 'Metadata':\nhttps://nextjs.org/docs/app/building-your-application/optimizing/metadata#static-metadata`,start:i.name.getStart(),length:i.name.getWidth()}]}}}}}}}}}return[]},getCompletionEntryDetails(t,i,r,p,g,m,h){const v=getMetadataExport(t,i);if(!v)return;if(isTyped(v))return;const x=updateVirtualFileWithType(t,v);if(x===undefined)return;const S=i<=x[0]?i:i+x[1];const E=y.languageService.getCompletionEntryDetails(t,S,r,p,g,m,h);return E},getQuickInfoAtPosition(t,i){const r=getMetadataExport(t,i);if(!r)return;if(isTyped(r))return;const p=updateVirtualFileWithType(t,r);if(p===undefined)return;const g=i<=p[0]?i:i+p[1];const m=y.languageService.getQuickInfoAtPosition(t,g);return m},getDefinitionAndBoundSpan(t,i){const r=getMetadataExport(t,i);if(!r)return;if(isTyped(r))return;if(!isPositionInsideNode(i,r))return;const p=updateVirtualFileWithType(t,r);if(p===undefined)return;const g=i<=p[0]?i:i+p[1];const m=y.languageService.getDefinitionAndBoundSpan(t,g);if(m){if(m.textSpan.start>p[0]){m.textSpan.start-=p[1]}}return m}};const q=$;const H={getSemanticDiagnostics(t,i){const r=/[\\/]error\.tsx?$/.test(t.fileName);const p=/[\\/]global-error\.tsx?$/.test(t.fileName);if(!r&&!p)return[];const g=getTs();if(!i){return[{file:t,category:g.DiagnosticCategory.Error,code:v.INVALID_ERROR_COMPONENT,messageText:`Error Components must be Client Components, please add the "use client" directive: https://nextjs.org/docs/app/api-reference/file-conventions/error`,start:0,length:t.text.length}]}return[]}};const B=H;const createTSPlugin=({typescript:t})=>{function create(i){var r;const p=(r=i.config.enabled)!==null&&r!==void 0?r:true;const g=init({ts:t,info:i});if(!p||!g){return i.languageService}const m=Object.create(null);for(let t of Object.keys(i.languageService)){const r=i.languageService[t];m[t]=(...t)=>r.apply(i.languageService,t)}m.getCompletionsAtPosition=(r,p,g)=>{let m=i.languageService.getCompletionsAtPosition(r,p,g)||{isGlobalCompletion:false,isMemberCompletion:false,isNewIdentifierLocation:false,entries:[]};if(!isAppEntryFile(r))return m;const h=getEntryInfo(r);if(!h.client){m.entries=C.filterCompletionsAtPosition(m.entries);m=q.filterCompletionsAtPosition(r,p,g,m)}N.addCompletionsAtPosition(r,p,m);const y=getSource(r);if(!y)return m;t.forEachChild(y,(t=>{if(isPositionInsideNode(p,t)&&isDefaultFunctionExport(t)){m.entries.push(...V.getCompletionsAtPosition(r,t,p))}}));return m};m.getCompletionEntryDetails=(t,r,p,g,m,h,y)=>{const v=N.getCompletionEntryDetails(p,y);if(v)return v;const x=q.getCompletionEntryDetails(t,r,p,g,m,h,y);if(x)return x;return i.languageService.getCompletionEntryDetails(t,r,p,g,m,h,y)};m.getQuickInfoAtPosition=(t,r)=>{const p=i.languageService.getQuickInfoAtPosition(t,r);if(!isAppEntryFile(t))return p;const g=getEntryInfo(t);if(!g.client){const p=i.languageService.getDefinitionAtPosition(t,r);if(p&&C.hasDisallowedReactAPIDefinition(p)){return}const g=q.getQuickInfoAtPosition(t,r);if(g)return g}const m=N.getQuickInfoAtPosition(t,r);if(m)return m;return p};m.getSemanticDiagnostics=r=>{const p=i.languageService.getSemanticDiagnostics(r);const g=getSource(r);if(!g)return p;let m=false;let h=false;const y=isAppEntryFile(r);try{const t=getEntryInfo(r,true);m=t.client;h=t.server}catch(i){p.push({file:g,category:t.DiagnosticCategory.Error,code:v.MISPLACED_ENTRY_DIRECTIVE,...i});m=false;h=false}if(isInsideApp(r)){const t=B.getSemanticDiagnostics(g,m);p.push(...t)}t.forEachChild(g,(i=>{var v,x;if(t.isImportDeclaration(i)){if(y){if(!m||h){const t=C.getSemanticDiagnosticsForImportDeclaration(g,i);p.push(...t)}}}else if(t.isVariableStatement(i)&&((v=i.modifiers)===null||v===void 0?void 0:v.some((i=>i.kind===t.SyntaxKind.ExportKeyword)))){if(y){const t=N.getSemanticDiagnosticsForExportVariableStatement(g,i);const h=m?q.getSemanticDiagnosticsForExportVariableStatementInClientEntry(r,i):q.getSemanticDiagnosticsForExportVariableStatement(r,i);p.push(...t,...h)}if(m){p.push(...j.getSemanticDiagnosticsForExportVariableStatement(g,i))}if(h){p.push(...O.getSemanticDiagnosticsForExportVariableStatement(g,i))}}else if(isDefaultFunctionExport(i)){if(y){const t=V.getSemanticDiagnostics(r,g,i);p.push(...t)}if(m){p.push(...j.getSemanticDiagnosticsForFunctionExport(g,i))}if(h){p.push(...O.getSemanticDiagnosticsForFunctionExport(g,i))}}else if(t.isFunctionDeclaration(i)&&((x=i.modifiers)===null||x===void 0?void 0:x.some((i=>i.kind===t.SyntaxKind.ExportKeyword)))){if(y){const t=m?q.getSemanticDiagnosticsForExportVariableStatementInClientEntry(r,i):q.getSemanticDiagnosticsForExportVariableStatement(r,i);p.push(...t)}if(m){p.push(...j.getSemanticDiagnosticsForFunctionExport(g,i))}if(h){p.push(...O.getSemanticDiagnosticsForFunctionExport(g,i))}}else if(t.isExportDeclaration(i)){if(y){const t=m?q.getSemanticDiagnosticsForExportDeclarationInClientEntry(r,i):q.getSemanticDiagnosticsForExportDeclaration(r,i);p.push(...t)}if(h){p.push(...O.getSemanticDiagnosticsForExportDeclaration(g,i))}}}));return p};m.getDefinitionAndBoundSpan=(t,r)=>{const p=getEntryInfo(t);if(isAppEntryFile(t)&&!p.client){const i=q.getDefinitionAndBoundSpan(t,r);if(i)return i}return i.languageService.getDefinitionAndBoundSpan(t,r)};return m}return{create:create}}})();module.exports=r})();